"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[8404],{19328:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>t,contentTitle:()=>s,default:()=>p,frontMatter:()=>d,metadata:()=>c,toc:()=>i});const c=JSON.parse('{"id":"DevOps/docker/Docker\u4f7f\u7528\u7b14\u8bb0","title":"Docker \u4f7f\u7528\u7b14\u8bb0","description":"Docker\u7aef\u53e3\u6620\u5c04","source":"@site/docs/DevOps/docker/Docker\u4f7f\u7528\u7b14\u8bb0.md","sourceDirName":"DevOps/docker","slug":"/DevOps/docker/Docker\u4f7f\u7528\u7b14\u8bb0","permalink":"/docs/DevOps/docker/Docker\u4f7f\u7528\u7b14\u8bb0","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Docker","permalink":"/docs/tags/docker"}],"version":"current","frontMatter":{"title":"Docker \u4f7f\u7528\u7b14\u8bb0","tags":["Docker"]},"sidebar":"tutorialSidebar","previous":{"title":"Windows \u64cd\u4f5cTips","permalink":"/docs/DevOps/WindowDoSNotes"},"next":{"title":"Docker \u5e38\u7528\u547d\u4ee4","permalink":"/docs/DevOps/docker/Docker\u5e38\u7528\u547d\u4ee4"}}');var a=o(74848),r=o(28453);const d={title:"Docker \u4f7f\u7528\u7b14\u8bb0",tags:["Docker"]},s=void 0,t={},i=[{value:"Docker\u7aef\u53e3\u6620\u5c04",id:"docker\u7aef\u53e3\u6620\u5c04",level:2},{value:"alpine\u955c\u50cf\u7279\u6027",id:"alpine\u955c\u50cf\u7279\u6027",level:2},{value:"docker\u6e05\u7406\u811a\u672c",id:"docker\u6e05\u7406\u811a\u672c",level:2},{value:"docker \u955c\u50cf\u7684\u5bfc\u51fa\u5bfc\u5165",id:"docker-\u955c\u50cf\u7684\u5bfc\u51fa\u5bfc\u5165",level:2}];function l(e){const n={code:"code",h2:"h2",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"docker\u7aef\u53e3\u6620\u5c04",children:"Docker\u7aef\u53e3\u6620\u5c04"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u3000-p port:port  \u524d\u5bbf\u4e3b\u673a\u3000\u540e\u5bb9\u5668\ndocker run -d -p 8080:8080 --name mynginx nginx\n\n"})}),"\n",(0,a.jsx)(n.h2,{id:"alpine\u955c\u50cf\u7279\u6027",children:"alpine\u955c\u50cf\u7279\u6027"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u5b89\u88c5\u5305\napk add --update --no-cache nginx\n# \u5220\u9664\u5305\napk del nginx\n# \u67e5\u770b\u5305\napk info nginx\n\n# \u5b89\u88c5 node-gyp \u4f9d\u8d56\nRUN apk add --no-cache python3 make g++ \n\n# \u5b89\u88c5 Sharp \u56fe\u50cf\u5904\u7406\u4f9d\u8d56\nRUN apk add --no-cache vips-dev fftw-dev\n\n# \u5b89\u88c5 Canvas \u4f9d\u8d56\nRUN apk add --no-cache \\\n    build-base \\\n    cairo-dev \\\n    jpeg-dev \\\n    pango-dev \\\n    giflib-dev\n\n# \u5b89\u88c5\u5e38\u7528\u5f00\u53d1\u5de5\u5177\nRUN apk add --no-cache \\\n    git \\\n    curl \\\n    bash \\\n    openssh-client \\\n    ca-certificates\n\n# \u5728node-alpine\u4e2d\u5b89\u88c5python\napk add --no-cache python3 make g++ \\\n    && ln -sf python3 /usr/bin/python\n\n# \u5728node-alpine\u8bbe\u7f6e\u65f6\u533a\nRUN apk add --no-cache tzdata && \\\n    cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \\\n    echo "Asia/Shanghai" > /etc/timezone && \\\n    apk del tzdata\n\n# \u6dfb\u52a0\u8bed\u8a00\u652f\u6301\nRUN apk add --no-cache icu-libs\nENV NODE_ICU_DATA=/node_modules/full-icu\n\n# \u5b89\u88c5\u5b8c\u6574\u7684\u56fd\u9645\u5316\u652f\u6301\nRUN npm install -g full-icu\n'})}),"\n",(0,a.jsx)(n.h2,{id:"docker\u6e05\u7406\u811a\u672c",children:"docker\u6e05\u7406\u811a\u672c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# \u6e05\u7406\u6240\u6709\u60ac\u7a7a\u955c\u50cf\necho "Removing dangling images..."\ndocker image prune -f\n\n# \u6e05\u7406\u60ac\u7a7a\u5377\necho "Removing dangling volumes..."\ndocker volume prune -f\n\n# \u6e05\u7406\u672a\u4f7f\u7528\u7684\u7f51\u7edc\necho "Removing unused networks..."\ndocker network prune -f\n\n# \u663e\u793a\u6e05\u7406\u540e\u7684\u72b6\u6001\necho "Current Docker disk usage:"\ndocker system df\n\n'})}),"\n",(0,a.jsx)(n.h2,{id:"docker-\u955c\u50cf\u7684\u5bfc\u51fa\u5bfc\u5165",children:"docker \u955c\u50cf\u7684\u5bfc\u51fa\u5bfc\u5165"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# docker save -o <\u4fdd\u5b58\u8def\u5f84> <\u955c\u50cf\u540d>:<\u6807\u7b7e>\n\ndocker save -o my-image.tar my-image:latest\n\n# docker load -i <\u5bfc\u5165\u6587\u4ef6\u8def\u5f84>\n\ndocker load -i my-image.tar\n\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>d,x:()=>s});var c=o(96540);const a={},r=c.createContext(a);function d(e){const n=c.useContext(r);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);