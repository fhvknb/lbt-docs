"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[728],{28453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>r});var a=t(96540);const o={},s=a.createContext(o);function i(n){const e=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),a.createElement(s.Provider,{value:e},n.children)}},75688:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"FrontEnd/javascript/NextJS\u591a\u8bed\u8a00i18n\u5b9e\u8df5\u53c2\u8003","title":"Next.js \u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f","description":"Next.js \u63d0\u4f9b\u4e86\u591a\u79cd\u5b9e\u73b0\u591a\u8bed\u8a00(i18n)\u7684\u65b9\u6cd5\u3002\u4ee5\u4e0b\u662f\u57fa\u4e8e\u6700\u65b0 Next.js \u7248\u672c\u7684\u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f\uff0c\u5206\u4e3a App Router \u548c Pages Router \u4e24\u79cd\u65b9\u6848\u3002","source":"@site/docs/FrontEnd/javascript/NextJS\u591a\u8bed\u8a00i18n\u5b9e\u8df5\u53c2\u8003.md","sourceDirName":"FrontEnd/javascript","slug":"/FrontEnd/javascript/NextJS\u591a\u8bed\u8a00i18n\u5b9e\u8df5\u53c2\u8003","permalink":"/docs/FrontEnd/javascript/NextJS\u591a\u8bed\u8a00i18n\u5b9e\u8df5\u53c2\u8003","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"tag":["nextjs","javascript"]},"sidebar":"tutorialSidebar","previous":{"title":"NextJS\u4e2d\u591a\u4e2amiddleware\u5b9e\u8df5\u6307\u5357","permalink":"/docs/FrontEnd/javascript/NextJS\u591a\u4e2amiddleware"},"next":{"title":"RN Tips","permalink":"/docs/FrontEnd/reactnative/RNTips"}}');var o=t(74848),s=t(28453);const i={tag:["nextjs","javascript"]},r="Next.js \u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f",l={},c=[{value:"App Router \u65b9\u6848 (Next.js 13+)",id:"app-router-\u65b9\u6848-nextjs-13",level:2},{value:"1. \u9879\u76ee\u7ed3\u6784",id:"1-\u9879\u76ee\u7ed3\u6784",level:3},{value:"2. \u914d\u7f6e\u6587\u4ef6 (i18n-config.ts)",id:"2-\u914d\u7f6e\u6587\u4ef6-i18n-configts",level:3},{value:"3. \u4e2d\u95f4\u4ef6 (middleware.ts)",id:"3-\u4e2d\u95f4\u4ef6-middlewarets",level:3},{value:"4. \u5b57\u5178\u52a0\u8f7d\u51fd\u6570 (app/[lang]/dictionaries.ts)",id:"4-\u5b57\u5178\u52a0\u8f7d\u51fd\u6570-applangdictionariests",level:3},{value:"5. \u6839\u5e03\u5c40 (app/[lang]/layout.tsx)",id:"5-\u6839\u5e03\u5c40-applanglayouttsx",level:3},{value:"6. \u4e3b\u9875\u9762 (app/[lang]/page.tsx)",id:"6-\u4e3b\u9875\u9762-applangpagetsx",level:3},{value:"7. \u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6 (components/LanguageSwitcher.tsx)",id:"7-\u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6-componentslanguageswitchertsx",level:3},{value:"8. \u5b57\u5178\u6587\u4ef6\u793a\u4f8b (dictionaries/zh.json)",id:"8-\u5b57\u5178\u6587\u4ef6\u793a\u4f8b-dictionarieszhjson",level:3},{value:"Pages Router \u65b9\u6848 (\u4f20\u7edf\u65b9\u5f0f)",id:"pages-router-\u65b9\u6848-\u4f20\u7edf\u65b9\u5f0f",level:2},{value:"1. \u9879\u76ee\u7ed3\u6784",id:"1-\u9879\u76ee\u7ed3\u6784-1",level:3},{value:"2. Next.js \u914d\u7f6e (next.config.js)",id:"2-nextjs-\u914d\u7f6e-nextconfigjs",level:3},{value:"3. \u4f7f\u7528 next-i18next \u5e93",id:"3-\u4f7f\u7528-next-i18next-\u5e93",level:3},{value:"4. i18n \u914d\u7f6e (lib/i18n.ts)",id:"4-i18n-\u914d\u7f6e-libi18nts",level:3},{value:"5. _app.tsx \u6587\u4ef6",id:"5-_apptsx-\u6587\u4ef6",level:3},{value:"6. \u4e3b\u9875\u9762 (pages/[locale]/index.tsx)",id:"6-\u4e3b\u9875\u9762-pageslocaleindextsx",level:3},{value:"7. \u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6 (components/LanguageSwitcher.tsx)",id:"7-\u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6-componentslanguageswitchertsx-1",level:3},{value:"\u6700\u4f73\u5b9e\u8df5\u5efa\u8bae",id:"\u6700\u4f73\u5b9e\u8df5\u5efa\u8bae",level:2}];function p(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"nextjs-\u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f",children:"Next.js \u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f"})}),"\n",(0,o.jsx)(e.p,{children:"Next.js \u63d0\u4f9b\u4e86\u591a\u79cd\u5b9e\u73b0\u591a\u8bed\u8a00(i18n)\u7684\u65b9\u6cd5\u3002\u4ee5\u4e0b\u662f\u57fa\u4e8e\u6700\u65b0 Next.js \u7248\u672c\u7684\u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f\uff0c\u5206\u4e3a App Router \u548c Pages Router \u4e24\u79cd\u65b9\u6848\u3002"}),"\n",(0,o.jsx)(e.h2,{id:"app-router-\u65b9\u6848-nextjs-13",children:"App Router \u65b9\u6848 (Next.js 13+)"}),"\n",(0,o.jsx)(e.p,{children:"App Router \u63d0\u4f9b\u4e86\u66f4\u73b0\u4ee3\u7684\u591a\u8bed\u8a00\u5b9e\u73b0\u65b9\u5f0f\uff0c\u901a\u8fc7\u8def\u7531\u5206\u7ec4\u548c\u4e2d\u95f4\u4ef6\u5b9e\u73b0\u3002"}),"\n",(0,o.jsx)(e.h3,{id:"1-\u9879\u76ee\u7ed3\u6784",children:"1. \u9879\u76ee\u7ed3\u6784"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"/app\n  /[lang]\n    /about\n      page.tsx\n    /blog\n      /[slug]\n        page.tsx\n      page.tsx\n    layout.tsx\n    page.tsx\n  /api\n    /[...route]\n      route.ts\n/components\n  LanguageSwitcher.tsx\n/dictionaries\n  en.json\n  zh.json\n  ja.json\n/middleware.ts\n/i18n-config.ts\n"})}),"\n",(0,o.jsx)(e.h3,{id:"2-\u914d\u7f6e\u6587\u4ef6-i18n-configts",children:"2. \u914d\u7f6e\u6587\u4ef6 (i18n-config.ts)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"export const i18n = {\n  defaultLocale: 'zh',\n  locales: ['en', 'zh', 'ja'],\n} as const;\n\nexport type Locale = (typeof i18n)['locales'][number];\n"})}),"\n",(0,o.jsx)(e.h3,{id:"3-\u4e2d\u95f4\u4ef6-middlewarets",children:"3. \u4e2d\u95f4\u4ef6 (middleware.ts)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\nimport { i18n } from './i18n-config';\nimport { match as matchLocale } from '@formatjs/intl-localematcher';\nimport Negotiator from 'negotiator';\n\nfunction getLocale(request: NextRequest): string {\n  // \u83b7\u53d6 cookie \u4e2d\u7684\u8bed\u8a00\u8bbe\u7f6e\n  const cookieLocale = request.cookies.get('NEXT_LOCALE')?.value;\n  if (cookieLocale && i18n.locales.includes(cookieLocale as any)) {\n    return cookieLocale;\n  }\n\n  // \u83b7\u53d6 Accept-Language\n  const negotiatorHeaders: Record<string, string> = {};\n  request.headers.forEach((value, key) => (negotiatorHeaders[key] = value));\n  const languages = new Negotiator({ headers: negotiatorHeaders }).languages();\n  \n  // \u4f7f\u7528 intl-localematcher \u5339\u914d\u6700\u4f73\u8bed\u8a00\n  try {\n    return matchLocale(languages, i18n.locales, i18n.defaultLocale);\n  } catch (e) {\n    return i18n.defaultLocale;\n  }\n}\n\nexport function middleware(request: NextRequest) {\n  const pathname = request.nextUrl.pathname;\n  \n  // \u68c0\u67e5\u8def\u5f84\u662f\u5426\u5df2\u5305\u542b\u8bed\u8a00\u524d\u7f00\n  const pathnameIsMissingLocale = i18n.locales.every(\n    (locale) => !pathname.startsWith(`/${locale}/`) && pathname !== `/${locale}`\n  );\n\n  // \u6392\u9664\u4e0d\u9700\u8981\u56fd\u9645\u5316\u7684\u8def\u5f84\n  if (\n    pathname.startsWith('/_next') ||\n    pathname.startsWith('/api/') ||\n    pathname.startsWith('/static/') ||\n    pathname.includes('.')\n  ) {\n    return NextResponse.next();\n  }\n\n  // \u91cd\u5b9a\u5411\u5230\u5e26\u6709\u8bed\u8a00\u524d\u7f00\u7684\u8def\u5f84\n  if (pathnameIsMissingLocale) {\n    const locale = getLocale(request);\n    return NextResponse.redirect(\n      new URL(`/${locale}${pathname.startsWith('/') ? pathname : `/${pathname}`}`, request.url)\n    );\n  }\n}\n\nexport const config = {\n  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)'],\n};\n"})}),"\n",(0,o.jsx)(e.h3,{id:"4-\u5b57\u5178\u52a0\u8f7d\u51fd\u6570-applangdictionariests",children:"4. \u5b57\u5178\u52a0\u8f7d\u51fd\u6570 (app/[lang]/dictionaries.ts)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import 'server-only';\nimport type { Locale } from '@/i18n-config';\n\nconst dictionaries = {\n  en: () => import('@/dictionaries/en.json').then((module) => module.default),\n  zh: () => import('@/dictionaries/zh.json').then((module) => module.default),\n  ja: () => import('@/dictionaries/ja.json').then((module) => module.default),\n};\n\nexport const getDictionary = async (locale: Locale) => dictionaries[locale]();\n"})}),"\n",(0,o.jsx)(e.h3,{id:"5-\u6839\u5e03\u5c40-applanglayouttsx",children:"5. \u6839\u5e03\u5c40 (app/[lang]/layout.tsx)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import { Inter } from 'next/font/google';\nimport { Locale, i18n } from '@/i18n-config';\nimport LanguageSwitcher from '@/components/LanguageSwitcher';\n\nconst inter = Inter({ subsets: ['latin'] });\n\nexport async function generateStaticParams() {\n  return i18n.locales.map((locale) => ({ lang: locale }));\n}\n\nexport default function RootLayout({\n  children,\n  params,\n}: {\n  children: React.ReactNode;\n  params: { lang: Locale };\n}) {\n  return (\n    <html lang={params.lang}>\n      <body className={inter.className}>\n        <header>\n          <LanguageSwitcher currentLocale={params.lang} />\n        </header>\n        <main>{children}</main>\n      </body>\n    </html>\n  );\n}\n"})}),"\n",(0,o.jsx)(e.h3,{id:"6-\u4e3b\u9875\u9762-applangpagetsx",children:"6. \u4e3b\u9875\u9762 (app/[lang]/page.tsx)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import { getDictionary } from './dictionaries';\nimport { Locale } from '@/i18n-config';\n\nexport default async function Home({\n  params: { lang },\n}: {\n  params: { lang: Locale };\n}) {\n  const dict = await getDictionary(lang);\n  \n  return (\n    <div>\n      <h1>{dict.home.title}</h1>\n      <p>{dict.home.description}</p>\n    </div>\n  );\n}\n"})}),"\n",(0,o.jsx)(e.h3,{id:"7-\u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6-componentslanguageswitchertsx",children:"7. \u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6 (components/LanguageSwitcher.tsx)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"'use client';\n\nimport { useRouter, usePathname } from 'next/navigation';\nimport { i18n, Locale } from '@/i18n-config';\nimport { useCallback } from 'react';\nimport Link from 'next/link';\n\nexport default function LanguageSwitcher({ currentLocale }: { currentLocale: Locale }) {\n  const router = useRouter();\n  const pathname = usePathname();\n  \n  const switchLanguage = useCallback((locale: string) => {\n    // \u8bbe\u7f6e cookie\n    document.cookie = `NEXT_LOCALE=${locale}; path=/; max-age=31536000; SameSite=Lax`;\n    \n    // \u83b7\u53d6\u5f53\u524d\u8def\u5f84\u5e76\u66ff\u6362\u8bed\u8a00\u90e8\u5206\n    const currentPath = pathname;\n    const newPath = currentPath.replace(`/${currentLocale}`, `/${locale}`);\n    router.push(newPath);\n  }, [currentLocale, pathname, router]);\n\n  return (\n    <div>\n      <select\n        onChange={(e) => switchLanguage(e.target.value)}\n        value={currentLocale}\n      >\n        {i18n.locales.map((locale) => (\n          <option key={locale} value={locale}>\n            {locale === 'en' ? 'English' : locale === 'zh' ? '\u4e2d\u6587' : '\u65e5\u672c\u8a9e'}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n"})}),"\n",(0,o.jsx)(e.h3,{id:"8-\u5b57\u5178\u6587\u4ef6\u793a\u4f8b-dictionarieszhjson",children:"8. \u5b57\u5178\u6587\u4ef6\u793a\u4f8b (dictionaries/zh.json)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "home": {\n    "title": "\u6b22\u8fce\u4f7f\u7528 Next.js \u591a\u8bed\u8a00\u793a\u4f8b",\n    "description": "\u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528 App Router \u5b9e\u73b0\u7684\u591a\u8bed\u8a00\u7f51\u7ad9\u793a\u4f8b"\n  },\n  "about": {\n    "title": "\u5173\u4e8e\u6211\u4eec",\n    "description": "\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u6211\u4eec\u7684\u4fe1\u606f"\n  },\n  "common": {\n    "back": "\u8fd4\u56de",\n    "loading": "\u52a0\u8f7d\u4e2d...",\n    "error": "\u51fa\u9519\u4e86"\n  }\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"pages-router-\u65b9\u6848-\u4f20\u7edf\u65b9\u5f0f",children:"Pages Router \u65b9\u6848 (\u4f20\u7edf\u65b9\u5f0f)"}),"\n",(0,o.jsx)(e.p,{children:"\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f Pages Router\uff0c\u53ef\u4ee5\u4f7f\u7528 Next.js \u5185\u7f6e\u7684\u56fd\u9645\u5316\u652f\u6301\u3002"}),"\n",(0,o.jsx)(e.h3,{id:"1-\u9879\u76ee\u7ed3\u6784-1",children:"1. \u9879\u76ee\u7ed3\u6784"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"/pages\n  /[locale]\n    index.tsx\n    about.tsx\n    /blog\n      [slug].tsx\n      index.tsx\n  _app.tsx\n/components\n  LanguageSwitcher.tsx\n/public\n  /locales\n    /en\n      common.json\n      home.json\n    /zh\n      common.json\n      home.json\n/lib\n  i18n.ts\nnext.config.js\n"})}),"\n",(0,o.jsx)(e.h3,{id:"2-nextjs-\u914d\u7f6e-nextconfigjs",children:"2. Next.js \u914d\u7f6e (next.config.js)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  i18n: {\n    // \u8fd9\u91cc\u7684\u914d\u7f6e\u4ec5\u7528\u4e8e\u5f00\u53d1\u73af\u5883\uff0c\u751f\u4ea7\u73af\u5883\u4f1a\u88ab\u4e2d\u95f4\u4ef6\u8986\u76d6\n    locales: ['en', 'zh', 'ja'],\n    defaultLocale: 'zh'\n  },\n  // \u5176\u4ed6\u914d\u7f6e...\n}\n\nmodule.exports = nextConfig\n"})}),"\n",(0,o.jsx)(e.h3,{id:"3-\u4f7f\u7528-next-i18next-\u5e93",children:"3. \u4f7f\u7528 next-i18next \u5e93"}),"\n",(0,o.jsx)(e.p,{children:"\u9996\u5148\u5b89\u88c5\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"npm install next-i18next react-i18next i18next\n"})}),"\n",(0,o.jsx)(e.h3,{id:"4-i18n-\u914d\u7f6e-libi18nts",children:"4. i18n \u914d\u7f6e (lib/i18n.ts)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import { createInstance } from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nconst createI18nInstance = async (locale: string, namespace: string) => {\n  const i18nInstance = createInstance();\n  \n  await i18nInstance\n    .use(initReactI18next)\n    .init({\n      lng: locale,\n      ns: namespace,\n      fallbackLng: 'zh',\n      defaultNS: 'common',\n      resources: {\n        en: {\n          common: await import('../public/locales/en/common.json'),\n          home: await import('../public/locales/en/home.json'),\n        },\n        zh: {\n          common: await import('../public/locales/zh/common.json'),\n          home: await import('../public/locales/zh/home.json'),\n        },\n        ja: {\n          common: await import('../public/locales/ja/common.json'),\n          home: await import('../public/locales/ja/home.json'),\n        },\n      },\n    });\n  \n  return i18nInstance;\n};\n\nexport default createI18nInstance;\n"})}),"\n",(0,o.jsx)(e.h3,{id:"5-_apptsx-\u6587\u4ef6",children:"5. _app.tsx \u6587\u4ef6"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import type { AppProps } from 'next/app';\nimport { useRouter } from 'next/router';\nimport { I18nextProvider } from 'react-i18next';\nimport createI18nInstance from '@/lib/i18n';\nimport { useEffect, useState } from 'react';\nimport '@/styles/globals.css';\n\nexport default function App({ Component, pageProps }: AppProps) {\n  const router = useRouter();\n  const [i18n, setI18n] = useState<any>(null);\n  \n  useEffect(() => {\n    const initI18n = async () => {\n      const locale = router.locale || 'zh';\n      const i18nInstance = await createI18nInstance(locale, 'common');\n      setI18n(i18nInstance);\n    };\n    \n    initI18n();\n  }, [router.locale]);\n  \n  if (!i18n) {\n    return <div>Loading...</div>;\n  }\n  \n  return (\n    <I18nextProvider i18n={i18n}>\n      <Component {...pageProps} />\n    </I18nextProvider>\n  );\n}\n"})}),"\n",(0,o.jsx)(e.h3,{id:"6-\u4e3b\u9875\u9762-pageslocaleindextsx",children:"6. \u4e3b\u9875\u9762 (pages/[locale]/index.tsx)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import { useTranslation } from 'react-i18next';\nimport { GetStaticProps, GetStaticPaths } from 'next';\nimport Head from 'next/head';\nimport LanguageSwitcher from '@/components/LanguageSwitcher';\n\nexport default function Home() {\n  const { t } = useTranslation(['home', 'common']);\n  \n  return (\n    <>\n      <Head>\n        <title>{t('home:title')}</title>\n      </Head>\n      <main>\n        <LanguageSwitcher />\n        <h1>{t('home:title')}</h1>\n        <p>{t('home:description')}</p>\n      </main>\n    </>\n  );\n}\n\nexport const getStaticProps: GetStaticProps = async ({ params }) => {\n  const locale = params?.locale as string;\n  \n  return {\n    props: {\n      locale,\n    },\n  };\n};\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const locales = ['en', 'zh', 'ja'];\n  \n  return {\n    paths: locales.map((locale) => ({ params: { locale } })),\n    fallback: false,\n  };\n};\n"})}),"\n",(0,o.jsx)(e.h3,{id:"7-\u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6-componentslanguageswitchertsx-1",children:"7. \u8bed\u8a00\u5207\u6362\u5668\u7ec4\u4ef6 (components/LanguageSwitcher.tsx)"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-typescript",children:"import { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { useCallback } from 'react';\n\nexport default function LanguageSwitcher() {\n  const router = useRouter();\n  const { pathname, asPath, query, locale } = router;\n  \n  const locales = ['en', 'zh', 'ja'];\n  \n  const changeLanguage = useCallback((newLocale: string) => {\n    document.cookie = `NEXT_LOCALE=${newLocale}; path=/; max-age=31536000`;\n    router.push({ pathname, query }, asPath, { locale: newLocale });\n  }, [asPath, pathname, query, router]);\n  \n  return (\n    <div>\n      <select \n        onChange={(e) => changeLanguage(e.target.value)}\n        value={locale}\n      >\n        {locales.map((loc) => (\n          <option key={loc} value={loc}>\n            {loc === 'en' ? 'English' : loc === 'zh' ? '\u4e2d\u6587' : '\u65e5\u672c\u8a9e'}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n"})}),"\n",(0,o.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5\u5efa\u8bae",children:"\u6700\u4f73\u5b9e\u8df5\u5efa\u8bae"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u8def\u7531\u7b56\u7565"}),"\uff1a\u5728 URL \u4e2d\u5305\u542b\u8bed\u8a00\u4ee3\u7801\uff08\u5982 ",(0,o.jsx)(e.code,{children:"/zh/about"}),"\uff09\uff0c\u8fd9\u6709\u5229\u4e8e SEO \u548c\u7528\u6237\u4f53\u9a8c\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u5185\u5bb9\u7ba1\u7406"}),"\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u5bf9\u4e8e\u5c0f\u578b\u9879\u76ee\uff0c\u4f7f\u7528 JSON \u6587\u4ef6\u5b58\u50a8\u7ffb\u8bd1\u5185\u5bb9"}),"\n",(0,o.jsx)(e.li,{children:"\u5bf9\u4e8e\u5927\u578b\u9879\u76ee\uff0c\u8003\u8651\u4f7f\u7528\u4e13\u4e1a\u7684\u7ffb\u8bd1\u7ba1\u7406\u7cfb\u7edf(TMS)"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u6027\u80fd\u4f18\u5316"}),"\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u6309\u9700\u52a0\u8f7d\u7ffb\u8bd1\u6587\u4ef6"}),"\n",(0,o.jsx)(e.li,{children:"\u4f7f\u7528\u9759\u6001\u751f\u6210(SSG)\u9884\u6e32\u67d3\u591a\u8bed\u8a00\u9875\u9762"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"SEO \u4f18\u5316"}),"\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,o.jsx)(e.code,{children:'<html lang="zh">'})," \u5c5e\u6027"]}),"\n",(0,o.jsx)(e.li,{children:"\u6dfb\u52a0 hreflang \u6807\u7b7e"}),"\n",(0,o.jsx)(e.li,{children:"\u4e3a\u6bcf\u79cd\u8bed\u8a00\u521b\u5efa\u5355\u72ec\u7684\u7ad9\u70b9\u5730\u56fe"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u7528\u6237\u4f53\u9a8c"}),"\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u8bb0\u4f4f\u7528\u6237\u7684\u8bed\u8a00\u504f\u597d\uff08\u4f7f\u7528 cookie \u6216 localStorage\uff09"}),"\n",(0,o.jsx)(e.li,{children:"\u63d0\u4f9b\u660e\u663e\u7684\u8bed\u8a00\u5207\u6362\u5668"}),"\n",(0,o.jsx)(e.li,{children:"\u8003\u8651\u81ea\u52a8\u68c0\u6d4b\u7528\u6237\u7684\u9996\u9009\u8bed\u8a00"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u7ffb\u8bd1\u7ba1\u7406"}),"\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u4f7f\u7528\u547d\u540d\u7a7a\u95f4\u7ec4\u7ec7\u7ffb\u8bd1\u5185\u5bb9"}),"\n",(0,o.jsx)(e.li,{children:"\u4e3a\u7ffb\u8bd1\u952e\u4f7f\u7528\u5c42\u6b21\u7ed3\u6784"}),"\n",(0,o.jsx)(e.li,{children:"\u8003\u8651\u4f7f\u7528\u590d\u6570\u548c\u683c\u5f0f\u5316\u529f\u80fd"}),"\n"]}),"\n"]}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(p,{...n})}):p(n)}}}]);