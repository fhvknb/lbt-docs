"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[7780],{588:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>f,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"FrontEnd/javascript/ArrayBuffer","title":"ArrayBuffer","description":"ArrayBuffer \u662f JavaScript \u4e2d\u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u6838\u5fc3\u5bf9\u8c61\uff0c\u5b83\u4ee3\u8868\u4e00\u6bb5\u56fa\u5b9a\u957f\u5ea6\u7684\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\u3002\u672c\u6307\u5357\u5c06\u6df1\u5165\u63a2\u8ba8 ArrayBuffer \u7684\u6982\u5ff5\u3001\u7528\u6cd5\u4ee5\u53ca\u76f8\u5173\u7684 API\u3002","source":"@site/docs/FrontEnd/javascript/ArrayBuffer.md","sourceDirName":"FrontEnd/javascript","slug":"/FrontEnd/javascript/ArrayBuffer","permalink":"/docs/FrontEnd/javascript/ArrayBuffer","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"ArrayBuffer"},"sidebar":"tutorialSidebar","previous":{"title":"JS Code Snippets","permalink":"/docs/FrontEnd/javascript/CodeSnippets"},"next":{"title":"Next.js \u591a\u8bed\u8a00\u5b9e\u73b0\u6700\u4f73\u5b9e\u8df5\u793a\u4f8b\u6a21\u677f","permalink":"/docs/FrontEnd/javascript/NextJS\u591a\u8bed\u8a00i18n\u5b9e\u8df5\u53c2\u8003"}}');var t=r(4848),i=r(8453);const s={title:"ArrayBuffer"},l="JavaScript \u4e2d\u7684 ArrayBuffer \u8be6\u7ec6\u4f7f\u7528\u6307\u5357",c={},d=[{value:"1. ArrayBuffer \u57fa\u7840\u6982\u5ff5",id:"1-arraybuffer-\u57fa\u7840\u6982\u5ff5",level:2},{value:"1.1 \u4ec0\u4e48\u662f ArrayBuffer",id:"11-\u4ec0\u4e48\u662f-arraybuffer",level:3},{value:"1.2 ArrayBuffer \u4e0e\u89c6\u56fe",id:"12-arraybuffer-\u4e0e\u89c6\u56fe",level:3},{value:"2. \u4f7f\u7528 TypedArray \u89c6\u56fe",id:"2-\u4f7f\u7528-typedarray-\u89c6\u56fe",level:2},{value:"2.1 \u53ef\u7528\u7684 TypedArray \u7c7b\u578b",id:"21-\u53ef\u7528\u7684-typedarray-\u7c7b\u578b",level:3},{value:"2.2 \u521b\u5efa TypedArray \u89c6\u56fe",id:"22-\u521b\u5efa-typedarray-\u89c6\u56fe",level:3},{value:"2.3 TypedArray \u64cd\u4f5c",id:"23-typedarray-\u64cd\u4f5c",level:3},{value:"3. \u4f7f\u7528 DataView",id:"3-\u4f7f\u7528-dataview",level:2},{value:"3.1 \u521b\u5efa DataView",id:"31-\u521b\u5efa-dataview",level:3},{value:"3.2 \u8bfb\u5199\u6570\u636e",id:"32-\u8bfb\u5199\u6570\u636e",level:3},{value:"3.3 \u5b57\u8282\u5e8f",id:"33-\u5b57\u8282\u5e8f",level:3},{value:"4. ArrayBuffer \u5b9e\u9645\u5e94\u7528\u573a\u666f",id:"4-arraybuffer-\u5b9e\u9645\u5e94\u7528\u573a\u666f",level:2},{value:"4.1 \u6587\u4ef6\u64cd\u4f5c",id:"41-\u6587\u4ef6\u64cd\u4f5c",level:3},{value:"4.2 \u7f51\u7edc\u8bf7\u6c42",id:"42-\u7f51\u7edc\u8bf7\u6c42",level:3},{value:"4.3 \u56fe\u50cf\u5904\u7406",id:"43-\u56fe\u50cf\u5904\u7406",level:3},{value:"4.4 WebSocket \u4e8c\u8fdb\u5236\u901a\u4fe1",id:"44-websocket-\u4e8c\u8fdb\u5236\u901a\u4fe1",level:3},{value:"4.5 \u97f3\u9891\u5904\u7406 (Web Audio API)",id:"45-\u97f3\u9891\u5904\u7406-web-audio-api",level:3},{value:"5. \u9ad8\u7ea7\u6280\u5de7\u4e0e\u4f18\u5316",id:"5-\u9ad8\u7ea7\u6280\u5de7\u4e0e\u4f18\u5316",level:2},{value:"5.1 \u5171\u4eab\u5185\u5b58\u4e0e\u539f\u5b50\u64cd\u4f5c",id:"51-\u5171\u4eab\u5185\u5b58\u4e0e\u539f\u5b50\u64cd\u4f5c",level:3},{value:"5.2 \u8f6c\u6362\u4e0e\u62f7\u8d1d",id:"52-\u8f6c\u6362\u4e0e\u62f7\u8d1d",level:3},{value:"5.3 \u6027\u80fd\u4f18\u5316",id:"53-\u6027\u80fd\u4f18\u5316",level:3},{value:"6. \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848",id:"6-\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848",level:2},{value:"6.1 \u5185\u5b58\u7ba1\u7406",id:"61-\u5185\u5b58\u7ba1\u7406",level:3},{value:"6.2 \u5b57\u8282\u5e8f\u95ee\u9898",id:"62-\u5b57\u8282\u5e8f\u95ee\u9898",level:3},{value:"6.3 \u6ea2\u51fa\u5904\u7406",id:"63-\u6ea2\u51fa\u5904\u7406",level:3},{value:"7. \u4e0e\u5176\u4ed6 API \u7684\u96c6\u6210",id:"7-\u4e0e\u5176\u4ed6-api-\u7684\u96c6\u6210",level:2},{value:"7.1 Blob \u548c File",id:"71-blob-\u548c-file",level:3},{value:"7.2 Stream API",id:"72-stream-api",level:3},{value:"8. \u603b\u7ed3",id:"8-\u603b\u7ed3",level:2},{value:"9. \u517c\u5bb9\u6027",id:"9-\u517c\u5bb9\u6027",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"javascript-\u4e2d\u7684-arraybuffer-\u8be6\u7ec6\u4f7f\u7528\u6307\u5357",children:"JavaScript \u4e2d\u7684 ArrayBuffer \u8be6\u7ec6\u4f7f\u7528\u6307\u5357"})}),"\n",(0,t.jsx)(n.p,{children:"ArrayBuffer \u662f JavaScript \u4e2d\u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u6838\u5fc3\u5bf9\u8c61\uff0c\u5b83\u4ee3\u8868\u4e00\u6bb5\u56fa\u5b9a\u957f\u5ea6\u7684\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\u3002\u672c\u6307\u5357\u5c06\u6df1\u5165\u63a2\u8ba8 ArrayBuffer \u7684\u6982\u5ff5\u3001\u7528\u6cd5\u4ee5\u53ca\u76f8\u5173\u7684 API\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"1-arraybuffer-\u57fa\u7840\u6982\u5ff5",children:"1. ArrayBuffer \u57fa\u7840\u6982\u5ff5"}),"\n",(0,t.jsx)(n.h3,{id:"11-\u4ec0\u4e48\u662f-arraybuffer",children:"1.1 \u4ec0\u4e48\u662f ArrayBuffer"}),"\n",(0,t.jsx)(n.p,{children:"ArrayBuffer \u662f\u4e00\u4e2a\u8868\u793a\u56fa\u5b9a\u957f\u5ea6\u7684\u539f\u59cb\u4e8c\u8fdb\u5236\u6570\u636e\u7f13\u51b2\u533a\u7684\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u628a\u5b83\u60f3\u8c61\u6210\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4f46\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c\u5176\u4e2d\u7684\u5185\u5bb9\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u521b\u5efa\u4e00\u4e2a 16 \u5b57\u8282\u7684 ArrayBuffer\nconst buffer = new ArrayBuffer(16);\nconsole.log(buffer.byteLength); // 16\n"})}),"\n",(0,t.jsx)(n.h3,{id:"12-arraybuffer-\u4e0e\u89c6\u56fe",children:"1.2 ArrayBuffer \u4e0e\u89c6\u56fe"}),"\n",(0,t.jsx)(n.p,{children:'ArrayBuffer \u672c\u8eab\u4e0d\u63d0\u4f9b\u8bfb\u5199\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u9700\u8981\u901a\u8fc7"\u89c6\u56fe"\u5bf9\u8c61\u6765\u8bbf\u95ee\uff1a'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TypedArray \u89c6\u56fe"}),"\uff1a\u5982 Int8Array, Uint8Array, Float32Array \u7b49"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DataView \u89c6\u56fe"}),"\uff1a\u63d0\u4f9b\u66f4\u7075\u6d3b\u7684\u8bfb\u5199\u64cd\u4f5c\uff0c\u53ef\u4ee5\u63a7\u5236\u5b57\u8282\u5e8f"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"2-\u4f7f\u7528-typedarray-\u89c6\u56fe",children:"2. \u4f7f\u7528 TypedArray \u89c6\u56fe"}),"\n",(0,t.jsx)(n.p,{children:"TypedArray \u662f\u4e00\u7ec4\u6784\u9020\u51fd\u6570\uff0c\u7528\u4e8e\u521b\u5efa\u7279\u5b9a\u7c7b\u578b\u7684\u6570\u7ec4\u89c6\u56fe\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"21-\u53ef\u7528\u7684-typedarray-\u7c7b\u578b",children:"2.1 \u53ef\u7528\u7684 TypedArray \u7c7b\u578b"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,t.jsx)(n.th,{children:"\u5143\u7d20\u5927\u5c0f (\u5b57\u8282)"}),(0,t.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,t.jsx)(n.th,{children:"\u503c\u8303\u56f4"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Int8Array"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"8 \u4f4d\u6709\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"-128 \u5230 127"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Uint8Array"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"8 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"0 \u5230 255"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Uint8ClampedArray"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"8 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570 (\u94b3\u4f4d)"}),(0,t.jsx)(n.td,{children:"0 \u5230 255"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Int16Array"}),(0,t.jsx)(n.td,{children:"2"}),(0,t.jsx)(n.td,{children:"16 \u4f4d\u6709\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"-32768 \u5230 32767"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Uint16Array"}),(0,t.jsx)(n.td,{children:"2"}),(0,t.jsx)(n.td,{children:"16 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"0 \u5230 65535"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Int32Array"}),(0,t.jsx)(n.td,{children:"4"}),(0,t.jsx)(n.td,{children:"32 \u4f4d\u6709\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"-2^31 \u5230 2^31-1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Uint32Array"}),(0,t.jsx)(n.td,{children:"4"}),(0,t.jsx)(n.td,{children:"32 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"0 \u5230 2^32-1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Float32Array"}),(0,t.jsx)(n.td,{children:"4"}),(0,t.jsx)(n.td,{children:"32 \u4f4d\u6d6e\u70b9\u6570"}),(0,t.jsx)(n.td,{children:"-3.4e38 \u5230 3.4e38"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Float64Array"}),(0,t.jsx)(n.td,{children:"8"}),(0,t.jsx)(n.td,{children:"64 \u4f4d\u6d6e\u70b9\u6570"}),(0,t.jsx)(n.td,{children:"-1.8e308 \u5230 1.8e308"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"BigInt64Array"}),(0,t.jsx)(n.td,{children:"8"}),(0,t.jsx)(n.td,{children:"64 \u4f4d\u6709\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"-2^63 \u5230 2^63-1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"BigUint64Array"}),(0,t.jsx)(n.td,{children:"8"}),(0,t.jsx)(n.td,{children:"64 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570"}),(0,t.jsx)(n.td,{children:"0 \u5230 2^64-1"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"22-\u521b\u5efa-typedarray-\u89c6\u56fe",children:"2.2 \u521b\u5efa TypedArray \u89c6\u56fe"}),"\n",(0,t.jsx)(n.p,{children:"\u6709\u591a\u79cd\u65b9\u5f0f\u53ef\u4ee5\u521b\u5efa TypedArray\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u65b9\u5f0f 1: \u57fa\u4e8e ArrayBuffer \u521b\u5efa\u89c6\u56fe\nconst buffer = new ArrayBuffer(16);\nconst int32View = new Int32Array(buffer);\nconsole.log(int32View.length); // 4 (16\u5b57\u8282/4\u5b57\u8282\u6bcf\u4e2aInt32)\n\n// \u65b9\u5f0f 2: \u76f4\u63a5\u521b\u5efa\u7279\u5b9a\u957f\u5ea6\u7684 TypedArray\nconst float64Array = new Float64Array(8); // \u521b\u5efa\u5305\u542b 8 \u4e2a\u5143\u7d20\u7684\u6570\u7ec4\nconsole.log(float64Array.byteLength); // 64 (8\u5143\u7d20 * 8\u5b57\u8282\u6bcf\u4e2aFloat64)\n\n// \u65b9\u5f0f 3: \u4ece\u666e\u901a\u6570\u7ec4\u521b\u5efa\nconst uint8Array = new Uint8Array([1, 2, 3, 4]);\nconsole.log(uint8Array); // Uint8Array [1, 2, 3, 4]\n\n// \u65b9\u5f0f 4: \u4ece\u53e6\u4e00\u4e2a TypedArray \u521b\u5efa\nconst int16Array = new Int16Array(uint8Array);\nconsole.log(int16Array); // Int16Array [1, 2, 3, 4]\n\n// \u65b9\u5f0f 5: \u4f7f\u7528 TypedArray \u7684\u5b50\u533a\u95f4\nconst originalArray = new Uint8Array([1, 2, 3, 4, 5, 6]);\nconst subArray = new Uint8Array(originalArray.buffer, 2, 3); // \u4ece\u7d22\u5f15 2 \u5f00\u59cb\uff0c\u957f\u5ea6\u4e3a 3\nconsole.log(subArray); // Uint8Array [3, 4, 5]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"23-typedarray-\u64cd\u4f5c",children:"2.3 TypedArray \u64cd\u4f5c"}),"\n",(0,t.jsx)(n.p,{children:"TypedArray \u7c7b\u4f3c\u4e8e\u666e\u901a\u6570\u7ec4\uff0c\u652f\u6301\u8bb8\u591a\u76f8\u540c\u7684\u65b9\u6cd5\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const array = new Int32Array([1, 2, 3, 4]);\n\n// \u8bfb\u5199\u5143\u7d20\narray[0] = 10;\nconsole.log(array[0]); // 10\n\n// \u904d\u5386\u5143\u7d20\nfor (const value of array) {\n  console.log(value);\n}\n\n// \u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\nconst mapped = array.map(x => x * 2);\nconsole.log(mapped); // Int32Array [20, 4, 6, 8]\n\nconst filtered = array.filter(x => x > 2);\nconsole.log(filtered); // Int32Array [10, 3, 4]\n\n// \u83b7\u53d6\u4fe1\u606f\nconsole.log(array.length); // 4\nconsole.log(array.byteLength); // 16\nconsole.log(array.buffer); // ArrayBuffer \u5bf9\u8c61\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-\u4f7f\u7528-dataview",children:"3. \u4f7f\u7528 DataView"}),"\n",(0,t.jsx)(n.p,{children:"DataView \u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u7075\u6d3b\u7684\u63a5\u53e3\u6765\u8bfb\u5199 ArrayBuffer \u4e2d\u7684\u6570\u636e\uff0c\u7279\u522b\u662f\u5728\u5904\u7406\u4e0d\u540c\u5b57\u8282\u5e8f\uff08\u5927\u7aef\u5e8f/\u5c0f\u7aef\u5e8f\uff09\u65f6\u975e\u5e38\u6709\u7528\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"31-\u521b\u5efa-dataview",children:"3.1 \u521b\u5efa DataView"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const buffer = new ArrayBuffer(16);\nconst dataView = new DataView(buffer);\n\n// \u53ef\u4ee5\u6307\u5b9a\u504f\u79fb\u91cf\u548c\u957f\u5ea6\nconst partialView = new DataView(buffer, 4, 8); // \u4ece\u504f\u79fb\u91cf 4 \u5f00\u59cb\uff0c\u957f\u5ea6\u4e3a 8\n"})}),"\n",(0,t.jsx)(n.h3,{id:"32-\u8bfb\u5199\u6570\u636e",children:"3.2 \u8bfb\u5199\u6570\u636e"}),"\n",(0,t.jsx)(n.p,{children:"DataView \u63d0\u4f9b\u4e86\u5404\u79cd get/set \u65b9\u6cd5\u6765\u8bfb\u5199\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const buffer = new ArrayBuffer(16);\nconst view = new DataView(buffer);\n\n// \u5199\u5165\u6570\u636e\nview.setInt8(0, 42);                // \u5728\u504f\u79fb\u91cf 0 \u5199\u5165 8 \u4f4d\u6574\u6570\nview.setUint16(1, 65535, true);     // \u5728\u504f\u79fb\u91cf 1 \u5199\u5165 16 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570\uff0c\u4f7f\u7528\u5c0f\u7aef\u5e8f\nview.setFloat32(4, 3.14159);        // \u5728\u504f\u79fb\u91cf 4 \u5199\u5165 32 \u4f4d\u6d6e\u70b9\u6570\uff0c\u9ed8\u8ba4\u5927\u7aef\u5e8f\nview.setFloat64(8, 1.234567890123); // \u5728\u504f\u79fb\u91cf 8 \u5199\u5165 64 \u4f4d\u6d6e\u70b9\u6570\n\n// \u8bfb\u53d6\u6570\u636e\nconsole.log(view.getInt8(0));                // 42\nconsole.log(view.getUint16(1, true));        // 65535\nconsole.log(view.getFloat32(4).toFixed(5));  // 3.14159\nconsole.log(view.getFloat64(8));             // 1.234567890123\n"})}),"\n",(0,t.jsx)(n.h3,{id:"33-\u5b57\u8282\u5e8f",children:"3.3 \u5b57\u8282\u5e8f"}),"\n",(0,t.jsx)(n.p,{children:"DataView \u7684\u4e00\u4e2a\u4e3b\u8981\u4f18\u52bf\u662f\u53ef\u4ee5\u6307\u5b9a\u5b57\u8282\u5e8f\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5927\u7aef\u5e8f (Big-Endian)"}),"\uff1a\u6700\u9ad8\u6709\u6548\u5b57\u8282\u5728\u6700\u4f4e\u7684\u5730\u5740\uff08\u9ed8\u8ba4\uff09"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5c0f\u7aef\u5e8f (Little-Endian)"}),"\uff1a\u6700\u4f4e\u6709\u6548\u5b57\u8282\u5728\u6700\u4f4e\u7684\u5730\u5740"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const buffer = new ArrayBuffer(4);\nconst view = new DataView(buffer);\n\nview.setUint16(0, 0x1234); // \u5927\u7aef\u5e8f (\u9ed8\u8ba4)\nconsole.log(view.getUint8(0)); // 0x12\nconsole.log(view.getUint8(1)); // 0x34\n\nview.setUint16(2, 0x1234, true); // \u5c0f\u7aef\u5e8f\nconsole.log(view.getUint8(2)); // 0x34\nconsole.log(view.getUint8(3)); // 0x12\n"})}),"\n",(0,t.jsx)(n.h2,{id:"4-arraybuffer-\u5b9e\u9645\u5e94\u7528\u573a\u666f",children:"4. ArrayBuffer \u5b9e\u9645\u5e94\u7528\u573a\u666f"}),"\n",(0,t.jsx)(n.h3,{id:"41-\u6587\u4ef6\u64cd\u4f5c",children:"4.1 \u6587\u4ef6\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 FileReader \u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u5230 ArrayBuffer\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const fileInput = document.getElementById('fileInput');\nfileInput.addEventListener('change', function() {\n  const file = this.files[0];\n  const reader = new FileReader();\n  \n  reader.onload = function() {\n    const arrayBuffer = this.result;\n    // \u5904\u7406 arrayBuffer \u6570\u636e\n    const view = new Uint8Array(arrayBuffer);\n    console.log('\u6587\u4ef6\u7684\u524d10\u4e2a\u5b57\u8282:', view.slice(0, 10));\n  };\n  \n  reader.readAsArrayBuffer(file);\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"42-\u7f51\u7edc\u8bf7\u6c42",children:"4.2 \u7f51\u7edc\u8bf7\u6c42"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 fetch API \u83b7\u53d6\u4e8c\u8fdb\u5236\u6570\u636e\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"fetch('https://example.com/binary-data')\n  .then(response => response.arrayBuffer())\n  .then(buffer => {\n    const view = new Uint8Array(buffer);\n    console.log('\u63a5\u6536\u5230\u7684\u6570\u636e:', view);\n  });\n"})}),"\n",(0,t.jsx)(n.h3,{id:"43-\u56fe\u50cf\u5904\u7406",children:"4.3 \u56fe\u50cf\u5904\u7406"}),"\n",(0,t.jsx)(n.p,{children:"\u64cd\u4f5c Canvas \u50cf\u7d20\u6570\u636e\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const canvas = document.getElementById('myCanvas');\nconst ctx = canvas.getContext('2d');\nconst imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\nconst uint8Array = imageData.data;\n\n// \u53cd\u8f6c\u989c\u8272\nfor (let i = 0; i < uint8Array.length; i += 4) {\n  uint8Array[i] = 255 - uint8Array[i];       // R\n  uint8Array[i + 1] = 255 - uint8Array[i + 1]; // G\n  uint8Array[i + 2] = 255 - uint8Array[i + 2]; // B\n  // uint8Array[i + 3] \u662f alpha \u901a\u9053\uff0c\u4fdd\u6301\u4e0d\u53d8\n}\n\nctx.putImageData(imageData, 0, 0);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"44-websocket-\u4e8c\u8fdb\u5236\u901a\u4fe1",children:"4.4 WebSocket \u4e8c\u8fdb\u5236\u901a\u4fe1"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const socket = new WebSocket('wss://example.com/binary-socket');\nsocket.binaryType = 'arraybuffer';\n\nsocket.onmessage = function(event) {\n  if (event.data instanceof ArrayBuffer) {\n    const view = new DataView(event.data);\n    // \u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\n  }\n};\n\n// \u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\nconst buffer = new ArrayBuffer(4);\nconst view = new DataView(buffer);\nview.setUint32(0, 42);\nsocket.send(buffer);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"45-\u97f3\u9891\u5904\u7406-web-audio-api",children:"4.5 \u97f3\u9891\u5904\u7406 (Web Audio API)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const audioContext = new AudioContext();\n\nfetch('audio.mp3')\n  .then(response => response.arrayBuffer())\n  .then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer))\n  .then(audioBuffer => {\n    // \u83b7\u53d6\u97f3\u9891\u6570\u636e\n    const channelData = audioBuffer.getChannelData(0); // \u7b2c\u4e00\u4e2a\u58f0\u9053\n    \n    // \u5206\u6790\u6216\u4fee\u6539\u97f3\u9891\u6570\u636e\n    let sum = 0;\n    for (let i = 0; i < channelData.length; i++) {\n      sum += Math.abs(channelData[i]);\n    }\n    const average = sum / channelData.length;\n    console.log('\u5e73\u5747\u632f\u5e45:', average);\n  });\n"})}),"\n",(0,t.jsx)(n.h2,{id:"5-\u9ad8\u7ea7\u6280\u5de7\u4e0e\u4f18\u5316",children:"5. \u9ad8\u7ea7\u6280\u5de7\u4e0e\u4f18\u5316"}),"\n",(0,t.jsx)(n.h3,{id:"51-\u5171\u4eab\u5185\u5b58\u4e0e\u539f\u5b50\u64cd\u4f5c",children:"5.1 \u5171\u4eab\u5185\u5b58\u4e0e\u539f\u5b50\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.p,{children:"SharedArrayBuffer \u5141\u8bb8\u5728\u4e0d\u540c\u7684 Web Workers \u4e4b\u95f4\u5171\u4eab\u5185\u5b58\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u4e3b\u7ebf\u7a0b\nconst sharedBuffer = new SharedArrayBuffer(1024);\nconst sharedArray = new Int32Array(sharedBuffer);\nworker.postMessage({ buffer: sharedBuffer });\n\n// Worker \u7ebf\u7a0b\nself.onmessage = function(event) {\n  const sharedArray = new Int32Array(event.data.buffer);\n  // \u4f7f\u7528 Atomics API \u8fdb\u884c\u7ebf\u7a0b\u5b89\u5168\u64cd\u4f5c\n  Atomics.add(sharedArray, 0, 1);\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"52-\u8f6c\u6362\u4e0e\u62f7\u8d1d",children:"5.2 \u8f6c\u6362\u4e0e\u62f7\u8d1d"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u4e0d\u540c\u7684\u4e8c\u8fdb\u5236\u683c\u5f0f\u4e4b\u95f4\u8f6c\u6362\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// ArrayBuffer \u8f6c Base64\nfunction arrayBufferToBase64(buffer) {\n  let binary = '';\n  const bytes = new Uint8Array(buffer);\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return btoa(binary);\n}\n\n// Base64 \u8f6c ArrayBuffer\nfunction base64ToArrayBuffer(base64) {\n  const binaryString = atob(base64);\n  const len = binaryString.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binaryString.charCodeAt(i);\n  }\n  return bytes.buffer;\n}\n\n// \u5b57\u7b26\u4e32\u8f6c ArrayBuffer\nfunction stringToArrayBuffer(str) {\n  const encoder = new TextEncoder();\n  return encoder.encode(str).buffer;\n}\n\n// ArrayBuffer \u8f6c\u5b57\u7b26\u4e32\nfunction arrayBufferToString(buffer) {\n  const decoder = new TextDecoder();\n  return decoder.decode(buffer);\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"53-\u6027\u80fd\u4f18\u5316",children:"5.3 \u6027\u80fd\u4f18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u5904\u7406\u5927\u578b ArrayBuffer \u65f6\u7684\u4e00\u4e9b\u4f18\u5316\u6280\u5de7\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 1. \u91cd\u7528 ArrayBuffer \u800c\u4e0d\u662f\u9891\u7e41\u521b\u5efa\u65b0\u7684\nconst buffer = new ArrayBuffer(1024 * 1024); // 1MB \u7f13\u51b2\u533a\nfunction processData(data) {\n  const view = new Uint8Array(buffer);\n  // \u5c06\u6570\u636e\u590d\u5236\u5230\u7f13\u51b2\u533a\u5e76\u5904\u7406\n}\n\n// 2. \u4f7f\u7528\u9002\u5f53\u7684\u89c6\u56fe\u7c7b\u578b\n// \u5bf9\u4e8e\u5927\u578b\u6570\u503c\u8ba1\u7b97\uff0cFloat64Array \u53ef\u80fd\u6bd4 Float32Array \u6162\nconst float32Array = new Float32Array(10000000);\n// \u6bd4\u4f7f\u7528 Float64Array \u66f4\u9ad8\u6548\n\n// 3. \u6279\u91cf\u5904\u7406\u800c\u4e0d\u662f\u9010\u5b57\u8282\u5904\u7406\nfunction optimizedSum(array) {\n  let sum = 0;\n  // \u6bcf\u6b21\u5904\u7406 4 \u4e2a\u5143\u7d20\u800c\u4e0d\u662f 1 \u4e2a\n  for (let i = 0; i < array.length; i += 4) {\n    sum += array[i] + array[i + 1] + array[i + 2] + array[i + 3];\n  }\n  return sum;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"6-\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848",children:"6. \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848"}),"\n",(0,t.jsx)(n.h3,{id:"61-\u5185\u5b58\u7ba1\u7406",children:"6.1 \u5185\u5b58\u7ba1\u7406"}),"\n",(0,t.jsx)(n.p,{children:"ArrayBuffer \u4e0d\u4f1a\u81ea\u52a8\u91ca\u653e\uff0c\u9700\u8981\u786e\u4fdd\u4e0d\u518d\u9700\u8981\u65f6\u5220\u9664\u5f15\u7528\uff0c\u8ba9\u5783\u573e\u56de\u6536\u5668\u56de\u6536\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"let buffer = new ArrayBuffer(1024 * 1024 * 100); // 100MB\n// \u4f7f\u7528\u5b8c\u6bd5\u540e\nbuffer = null; // \u5141\u8bb8\u5783\u573e\u56de\u6536\n"})}),"\n",(0,t.jsx)(n.h3,{id:"62-\u5b57\u8282\u5e8f\u95ee\u9898",children:"6.2 \u5b57\u8282\u5e8f\u95ee\u9898"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0d\u540c\u7cfb\u7edf\u53ef\u80fd\u4f7f\u7528\u4e0d\u540c\u7684\u5b57\u8282\u5e8f\uff0c\u4f7f\u7528 DataView \u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const buffer = new ArrayBuffer(4);\nconst view = new DataView(buffer);\nview.setInt32(0, 0x12345678);\n\n// \u68c0\u6d4b\u7cfb\u7edf\u5b57\u8282\u5e8f\nconst systemIsLittleEndian = new Uint8Array(new Uint32Array([0x12345678]).buffer)[0] === 0x78;\nconsole.log('\u7cfb\u7edf\u662f\u5c0f\u7aef\u5e8f:', systemIsLittleEndian);\n\n// \u603b\u662f\u4f7f\u7528\u6307\u5b9a\u7684\u5b57\u8282\u5e8f\u8bfb\u53d6\nconst value = view.getInt32(0, systemIsLittleEndian);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"63-\u6ea2\u51fa\u5904\u7406",children:"6.3 \u6ea2\u51fa\u5904\u7406"}),"\n",(0,t.jsx)(n.p,{children:"TypedArray \u4f1a\u81ea\u52a8\u5904\u7406\u6ea2\u51fa\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const uint8Array = new Uint8Array(1);\nuint8Array[0] = 256; // \u8d85\u51fa\u8303\u56f4 (0-255)\nconsole.log(uint8Array[0]); // 0 (256 % 256)\n\nuint8Array[0] = -1;\nconsole.log(uint8Array[0]); // 255 (\u6ea2\u51fa\u5904\u7406)\n\n// Uint8ClampedArray \u4f1a\u94b3\u4f4d\u800c\u4e0d\u662f\u73af\u7ed5\nconst clampedArray = new Uint8ClampedArray(1);\nclampedArray[0] = 256;\nconsole.log(clampedArray[0]); // 255 (\u94b3\u4f4d\u5230\u6700\u5927\u503c)\n\nclampedArray[0] = -10;\nconsole.log(clampedArray[0]); // 0 (\u94b3\u4f4d\u5230\u6700\u5c0f\u503c)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"7-\u4e0e\u5176\u4ed6-api-\u7684\u96c6\u6210",children:"7. \u4e0e\u5176\u4ed6 API \u7684\u96c6\u6210"}),"\n",(0,t.jsx)(n.h3,{id:"71-blob-\u548c-file",children:"7.1 Blob \u548c File"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 ArrayBuffer \u548c Blob/File \u4e4b\u95f4\u8f6c\u6362\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Blob \u8f6c ArrayBuffer\nasync function blobToArrayBuffer(blob) {\n  return await blob.arrayBuffer();\n}\n\n// ArrayBuffer \u8f6c Blob\nfunction arrayBufferToBlob(buffer, type = 'application/octet-stream') {\n  return new Blob([buffer], { type });\n}\n\n// \u793a\u4f8b\nconst buffer = new ArrayBuffer(4);\nconst view = new Uint32Array(buffer);\nview[0] = 0x12345678;\n\nconst blob = arrayBufferToBlob(buffer, 'application/custom');\nblobToArrayBuffer(blob).then(newBuffer => {\n  const newView = new Uint32Array(newBuffer);\n  console.log(newView[0].toString(16)); // \"12345678\"\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"72-stream-api",children:"7.2 Stream API"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0e\u6d41\u5f0f API \u96c6\u6210\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u4ece ReadableStream \u8bfb\u53d6\u5230 ArrayBuffer\nasync function streamToArrayBuffer(stream) {\n  const reader = stream.getReader();\n  const chunks = [];\n  \n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) break;\n    chunks.push(value);\n  }\n  \n  // \u5408\u5e76\u6240\u6709 chunks\n  const totalLength = chunks.reduce((acc, val) => acc + val.length, 0);\n  const result = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const chunk of chunks) {\n    result.set(chunk, offset);\n    offset += chunk.length;\n  }\n  \n  return result.buffer;\n}\n\n// \u793a\u4f8b\nfetch('https://example.com/large-file')\n  .then(response => streamToArrayBuffer(response.body))\n  .then(buffer => {\n    console.log('\u6587\u4ef6\u5927\u5c0f:', buffer.byteLength);\n  });\n"})}),"\n",(0,t.jsx)(n.h2,{id:"8-\u603b\u7ed3",children:"8. \u603b\u7ed3"}),"\n",(0,t.jsx)(n.p,{children:"ArrayBuffer \u662f JavaScript \u4e2d\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u901a\u8fc7 TypedArray \u548c DataView \u89c6\u56fe\uff0c\u53ef\u4ee5\u9ad8\u6548\u5730\u8bfb\u5199\u5404\u79cd\u7c7b\u578b\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u4e3b\u8981\u4f18\u52bf\u5305\u62ec\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6027\u80fd"}),"\uff1a\u76f4\u63a5\u64cd\u4f5c\u5185\u5b58\uff0c\u907f\u514d\u4e86 JavaScript \u5bf9\u8c61\u7684\u5f00\u9500"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u517c\u5bb9\u6027"}),"\uff1a\u4e0e\u8bb8\u591a Web API \u65e0\u7f1d\u96c6\u6210\uff0c\u5982\u6587\u4ef6\u64cd\u4f5c\u3001\u7f51\u7edc\u8bf7\u6c42\u3001WebGL \u7b49"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7cbe\u786e\u63a7\u5236"}),"\uff1a\u53ef\u4ee5\u7cbe\u786e\u63a7\u5236\u5185\u5b58\u5e03\u5c40\u548c\u5b57\u8282\u5e8f"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u638c\u63e1 ArrayBuffer \u53ca\u5176\u76f8\u5173 API \u5bf9\u4e8e\u5904\u7406\u56fe\u50cf\u5904\u7406\u3001\u97f3\u9891\u5206\u6790\u3001\u7f51\u7edc\u534f\u8bae\u5b9e\u73b0\u3001\u6587\u4ef6\u89e3\u6790\u7b49\u6d89\u53ca\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u5e94\u7528\u81f3\u5173\u91cd\u8981\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"9-\u517c\u5bb9\u6027",children:"9. \u517c\u5bb9\u6027"}),"\n",(0,t.jsx)(n.p,{children:"ArrayBuffer \u53ca\u5176\u76f8\u5173 API \u5728\u6240\u6709\u73b0\u4ee3\u6d4f\u89c8\u5668\u4e2d\u90fd\u5f97\u5230\u4e86\u826f\u597d\u652f\u6301\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Chrome 7+"}),"\n",(0,t.jsx)(n.li,{children:"Firefox 4+"}),"\n",(0,t.jsx)(n.li,{children:"Safari 5.1+"}),"\n",(0,t.jsx)(n.li,{children:"Edge 12+"}),"\n",(0,t.jsx)(n.li,{children:"IE 10+"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"SharedArrayBuffer \u7684\u652f\u6301\u8f83\u4e3a\u6709\u9650\uff0c\u5e76\u4e14\u53d7\u5230\u8de8\u6e90\u9694\u79bb\u7b56\u7565\u7684\u9650\u5236\uff0c\u4f7f\u7528\u524d\u9700\u8981\u786e\u8ba4\u76ee\u6807\u73af\u5883\u7684\u517c\u5bb9\u6027\u3002"})]})}function f(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var a=r(6540);const t={},i=a.createContext(t);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);