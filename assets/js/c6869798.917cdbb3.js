"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[5773],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var l=s(96540);const r={},i=l.createContext(r);function t(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(i.Provider,{value:n},e.children)}},41888:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"FullStackDev/Python/Python_request \u7b14\u8bb0","title":"Python_request \u7b14\u8bb0","description":"\u5728 Python \u4e2d\uff0c\u4f7f\u7528 requests \u6a21\u5757\u53ef\u4ee5\u65b9\u4fbf\u5730\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\uff0c\u4ece\u800c\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u53d1\u8d77\u7684\u8bf7\u6c42\u3002\u4ee5\u4e0b\u662f\u5177\u4f53\u65b9\u6cd5\u548c\u793a\u4f8b\u4ee3\u7801\uff1a","source":"@site/docs/FullStackDev/Python/Python_request \u7b14\u8bb0.md","sourceDirName":"FullStackDev/Python","slug":"/FullStackDev/Python/Python_request \u7b14\u8bb0","permalink":"/docs/FullStackDev/Python/Python_request \u7b14\u8bb0","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Python \u8bed\u8a00__xxx__\u7b14\u8bb0","permalink":"/docs/FullStackDev/Python/Python \u8bed\u8a00__xxx__\u7b14\u8bb0"},"next":{"title":"\u5f02\u6b65\u7f16\u7a0b\u4e2d\u7684\u5173\u952e\u6280\u672f\u5b66\u4e60\u6587\u6863","permalink":"/docs/FullStackDev/Python/Python\u5f02\u6b65\u7f16\u7a0b"}}');var r=s(74848),i=s(28453);const t={},c=void 0,o={},d=[{value:"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u7684\u6b65\u9aa4",id:"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u7684\u6b65\u9aa4",level:3},{value:"\u793a\u4f8b\u4ee3\u7801",id:"\u793a\u4f8b\u4ee3\u7801",level:3},{value:"\u5173\u952e\u70b9\u8bf4\u660e",id:"\u5173\u952e\u70b9\u8bf4\u660e",level:3},{value:"\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u7684\u5b8c\u6574\u8bf7\u6c42\u5934",id:"\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u7684\u5b8c\u6574\u8bf7\u6c42\u5934",level:3},{value:"\u63d0\u4ea4 POST \u8bf7\u6c42\u5e76\u9644\u5e26\u6570\u636e",id:"\u63d0\u4ea4-post-\u8bf7\u6c42\u5e76\u9644\u5e26\u6570\u636e",level:3},{value:"\u4f7f\u7528 Cookie \u6a21\u62df\u767b\u5f55",id:"\u4f7f\u7528-cookie-\u6a21\u62df\u767b\u5f55",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:3}];function h(e){const n={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u5728 Python \u4e2d\uff0c\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"requests"})," \u6a21\u5757\u53ef\u4ee5\u65b9\u4fbf\u5730\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\uff0c\u4ece\u800c\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u53d1\u8d77\u7684\u8bf7\u6c42\u3002\u4ee5\u4e0b\u662f\u5177\u4f53\u65b9\u6cd5\u548c\u793a\u4f8b\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u7684\u6b65\u9aa4",children:"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u7684\u6b65\u9aa4"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"requests"})," \u6a21\u5757\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5728\u8bf7\u6c42\u4e2d\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"headers"})," \u53c2\u6570\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u7684\u8bf7\u6c42\u5934\u4fe1\u606f\uff0c\u5982 ",(0,r.jsx)(n.code,{children:"User-Agent"}),"\u3001",(0,r.jsx)(n.code,{children:"Accept"}),"\u3001",(0,r.jsx)(n.code,{children:"Referer"})," \u7b49\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u793a\u4f8b\u4ee3\u7801",children:"\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\n# \u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\nheaders = {\n    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36",\n    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8",\n    "Accept-Encoding": "gzip, deflate, br",\n    "Accept-Language": "en-US,en;q=0.9",\n    "Connection": "keep-alive",\n    "Referer": "https://www.google.com/",\n}\n\n# \u76ee\u6807 URL\nurl = "https://example.com"\n\n# \u53d1\u8d77 GET \u8bf7\u6c42\nresponse = requests.get(url, headers=headers)\n\n# \u6253\u5370\u54cd\u5e94\u5185\u5bb9\nprint(response.status_code)\nprint(response.text)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5173\u952e\u70b9\u8bf4\u660e",children:"\u5173\u952e\u70b9\u8bf4\u660e"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"User-Agent"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u6807\u8bc6\uff0c\u8868\u660e\u8bf7\u6c42\u6765\u81ea\u67d0\u79cd\u7279\u5b9a\u7684\u6d4f\u89c8\u5668\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u67e5\u770b\u771f\u5b9e\u7684 ",(0,r.jsx)(n.code,{children:"User-Agent"}),"\uff0c\u6216\u8005\u4ece\u7f51\u4e0a\u641c\u7d22\u5e38\u89c1\u7684\u6d4f\u89c8\u5668 ",(0,r.jsx)(n.code,{children:"User-Agent"})," \u5b57\u7b26\u4e32\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Accept"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6307\u5b9a\u5ba2\u6237\u7aef\u53ef\u4ee5\u5904\u7406\u7684\u5185\u5bb9\u7c7b\u578b\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u901a\u5e38\u8bbe\u7f6e\u4e3a ",(0,r.jsx)(n.code,{children:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Accept-Encoding"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6307\u5b9a\u652f\u6301\u7684\u538b\u7f29\u7f16\u7801\u683c\u5f0f\uff0c\u4f8b\u5982 ",(0,r.jsx)(n.code,{children:"gzip"}),"\u3001",(0,r.jsx)(n.code,{children:"deflate"})," \u6216 ",(0,r.jsx)(n.code,{children:"br"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Accept-Language"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6307\u5b9a\u5ba2\u6237\u7aef\u652f\u6301\u7684\u8bed\u8a00\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Referer"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8868\u793a\u5f53\u524d\u8bf7\u6c42\u7684\u6765\u6e90\u5730\u5740\uff0c\u67d0\u4e9b\u7f51\u7ad9\u4f1a\u68c0\u67e5 ",(0,r.jsx)(n.code,{children:"Referer"})," \u6765\u9632\u6b62\u76d7\u94fe\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Connection"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8868\u793a\u662f\u5426\u4fdd\u6301\u8fde\u63a5\uff0c\u901a\u5e38\u8bbe\u7f6e\u4e3a ",(0,r.jsx)(n.code,{children:"keep-alive"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u7684\u5b8c\u6574\u8bf7\u6c42\u5934",children:"\u6a21\u62df\u771f\u5b9e\u6d4f\u89c8\u5668\u7684\u5b8c\u6574\u8bf7\u6c42\u5934"}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\uff08F12\uff09\u67e5\u770b\u771f\u5b9e\u7684\u8bf7\u6c42\u5934\uff0c\u5e76\u5c06\u5176\u590d\u5236\u5230\u4ee3\u7801\u4e2d\u3002\u4f8b\u5982\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u6253\u5f00\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u8f6c\u5230 ",(0,r.jsx)(n.strong,{children:"\u7f51\u7edc\uff08Network\uff09"})," \u6807\u7b7e\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u9009\u62e9\u4e00\u4e2a\u8bf7\u6c42\uff0c\u67e5\u770b\u5176\u8bf7\u6c42\u5934\uff08Request Headers\uff09\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u5c06\u8fd9\u4e9b\u8bf7\u6c42\u5934\u590d\u5236\u5230\u4ee3\u7801\u4e2d\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u63d0\u4ea4-post-\u8bf7\u6c42\u5e76\u9644\u5e26\u6570\u636e",children:"\u63d0\u4ea4 POST \u8bf7\u6c42\u5e76\u9644\u5e26\u6570\u636e"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u9700\u8981\u6a21\u62df\u6d4f\u89c8\u5668\u63d0\u4ea4\u8868\u5355\uff0c\u53ef\u4ee5\u5728 POST \u8bf7\u6c42\u4e2d\u9644\u5e26\u8868\u5355\u6570\u636e\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# \u8868\u5355\u6570\u636e\ndata = {\n    "username": "test",\n    "password": "123456",\n}\n\n# \u53d1\u8d77 POST \u8bf7\u6c42\nresponse = requests.post(url, headers=headers, data=data)\n\nprint(response.status_code)\nprint(response.text)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528-cookie-\u6a21\u62df\u767b\u5f55",children:"\u4f7f\u7528 Cookie \u6a21\u62df\u767b\u5f55"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u76ee\u6807\u7f51\u7ad9\u9700\u8981\u767b\u5f55\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"requests.Session"})," \u4fdd\u5b58\u4f1a\u8bdd\u4e2d\u7684 Cookie\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# \u521b\u5efa\u4f1a\u8bdd\nsession = requests.Session()\n\n# \u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\nheaders = {\n    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36",\n}\n\n# \u767b\u5f55 URL \u548c\u8868\u5355\u6570\u636e\nlogin_url = "https://example.com/login"\nlogin_data = {\n    "username": "test",\n    "password": "123456",\n}\n\n# \u6a21\u62df\u767b\u5f55\nsession.post(login_url, headers=headers, data=login_data)\n\n# \u767b\u5f55\u540e\u8bbf\u95ee\u5176\u4ed6\u9875\u9762\nresponse = session.get("https://example.com/dashboard", headers=headers)\n\nprint(response.status_code)\nprint(response.text)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsxs)(n.p,{children:["\u901a\u8fc7\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u548c\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"requests.Session"}),"\uff0c\u53ef\u4ee5\u5f88\u597d\u5730\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u884c\u4e3a\uff0c\u4ece\u800c\u7ed5\u8fc7\u4e00\u4e9b\u7b80\u5355\u7684\u53cd\u722c\u673a\u5236\u3002\u5982\u679c\u76ee\u6807\u7f51\u7ad9\u6709\u66f4\u590d\u6742\u7684\u53cd\u722c\u7b56\u7565\uff08\u5982\u52a8\u6001\u52a0\u8f7d\u3001\u9a8c\u8bc1\u7801\u7b49\uff09\uff0c\u53ef\u80fd\u9700\u8981\u7ed3\u5408\u5176\u4ed6\u5de5\u5177\uff08\u5982 Selenium\uff09\u8fdb\u4e00\u6b65\u5904\u7406\u3002"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);