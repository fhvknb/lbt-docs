"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[5392],{12138:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>a,frontMatter:()=>c,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"FrontEndDev/Javascript/React\u4e2d\u7684memo\u65b9\u6cd5\u548cuseMemo","title":"React\u4e2d\u7684memo\u65b9\u6cd5\u548cuseMemo","description":"\u5728 React \u4e2d\uff0cmemo \u548c useMemo \u90fd\u662f\u7528\u4e8e\u4f18\u5316\u6027\u80fd\u7684\u5de5\u5177\uff0c\u76ee\u7684\u662f\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\u6216\u91cd\u590d\u8ba1\u7b97\u3002\u4f46\u5b83\u4eec\u7684\u5b9e\u73b0\u65b9\u5f0f\u548c\u4f7f\u7528\u573a\u666f\u6709\u6240\u4e0d\u540c\u3002","source":"@site/docs/FrontEndDev/Javascript/React\u4e2d\u7684memo\u65b9\u6cd5\u548cuseMemo.md","sourceDirName":"FrontEndDev/Javascript","slug":"/FrontEndDev/Javascript/React\u4e2d\u7684memo\u65b9\u6cd5\u548cuseMemo","permalink":"/docs/FrontEndDev/Javascript/React\u4e2d\u7684memo\u65b9\u6cd5\u548cuseMemo","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"React_Markdown\u6027\u80fd\u4f18\u5316","permalink":"/docs/FrontEndDev/Javascript/React_Markdown\u6027\u80fd\u4f18\u5316"},"next":{"title":"React\u53ef\u4e2d\u65ad\u6e32\u67d3\u673a\u5236\u89e3\u6790","permalink":"/docs/FrontEndDev/Javascript/React\u53ef\u4e2d\u65ad\u6e32\u67d3\u673a\u5236\u89e3\u6790"}}');var r=s(74848),o=s(28453);const c={},d=void 0,l={},i=[{value:"<strong>1. <code>React.memo</code></strong>",id:"1-reactmemo",level:2},{value:"<strong>\u7528\u9014</strong>",id:"\u7528\u9014",level:3},{value:"<strong>\u5b9e\u73b0\u539f\u7406</strong>",id:"\u5b9e\u73b0\u539f\u7406",level:3},{value:"<strong>\u4f7f\u7528\u573a\u666f</strong>",id:"\u4f7f\u7528\u573a\u666f",level:3},{value:"<strong>\u4ee3\u7801\u793a\u4f8b</strong>",id:"\u4ee3\u7801\u793a\u4f8b",level:3},{value:"<strong>\u7279\u70b9</strong>",id:"\u7279\u70b9",level:3},{value:"<strong>2. <code>useMemo</code></strong>",id:"2-usememo",level:2},{value:"<strong>\u7528\u9014</strong>",id:"\u7528\u9014-1",level:3},{value:"<strong>\u5b9e\u73b0\u539f\u7406</strong>",id:"\u5b9e\u73b0\u539f\u7406-1",level:3},{value:"<strong>\u4f7f\u7528\u573a\u666f</strong>",id:"\u4f7f\u7528\u573a\u666f-1",level:3},{value:"<strong>\u4ee3\u7801\u793a\u4f8b</strong>",id:"\u4ee3\u7801\u793a\u4f8b-1",level:3},{value:"<strong>\u7279\u70b9</strong>",id:"\u7279\u70b9-1",level:3},{value:"<strong>3. \u533a\u522b\u603b\u7ed3</strong>",id:"3-\u533a\u522b\u603b\u7ed3",level:2},{value:"<strong>4. \u4f7f\u7528\u5efa\u8bae</strong>",id:"4-\u4f7f\u7528\u5efa\u8bae",level:2},{value:"<strong>React.memo</strong>",id:"reactmemo",level:3},{value:"<strong>useMemo</strong>",id:"usememo",level:3},{value:"<strong>5. \u7efc\u5408\u793a\u4f8b</strong>",id:"5-\u7efc\u5408\u793a\u4f8b",level:2}];function h(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u5728 React \u4e2d\uff0c",(0,r.jsx)(n.code,{children:"memo"})," \u548c ",(0,r.jsx)(n.code,{children:"useMemo"})," \u90fd\u662f\u7528\u4e8e\u4f18\u5316\u6027\u80fd\u7684\u5de5\u5177\uff0c\u76ee\u7684\u662f\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\u6216\u91cd\u590d\u8ba1\u7b97\u3002\u4f46\u5b83\u4eec\u7684\u5b9e\u73b0\u65b9\u5f0f\u548c\u4f7f\u7528\u573a\u666f\u6709\u6240\u4e0d\u540c\u3002"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-reactmemo",children:(0,r.jsxs)(n.strong,{children:["1. ",(0,r.jsx)(n.code,{children:"React.memo"})]})}),"\n",(0,r.jsx)(n.h3,{id:"\u7528\u9014",children:(0,r.jsx)(n.strong,{children:"\u7528\u9014"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"React.memo"})," \u662f\u4e00\u4e2a ",(0,r.jsx)(n.strong,{children:"\u9ad8\u9636\u7ec4\u4ef6"}),"\uff0c\u7528\u4e8e\u4f18\u5316 ",(0,r.jsx)(n.strong,{children:"\u51fd\u6570\u7ec4\u4ef6"})," \u7684\u6e32\u67d3\u3002\u5f53\u7ec4\u4ef6\u7684 props \u6ca1\u6709\u53d8\u5316\u65f6\uff0c",(0,r.jsx)(n.code,{children:"React.memo"})," \u4f1a\u8df3\u8fc7\u91cd\u65b0\u6e32\u67d3\u8be5\u7ec4\u4ef6\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5b9e\u73b0\u539f\u7406",children:(0,r.jsx)(n.strong,{children:"\u5b9e\u73b0\u539f\u7406"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["React.memo \u901a\u8fc7 ",(0,r.jsx)(n.strong,{children:"\u6d45\u6bd4\u8f83"}),"\uff08shallow comparison\uff09\u6bd4\u8f83\u524d\u540e\u4e24\u6b21\u7684 props\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679c props \u6ca1\u6709\u53d8\u5316\uff0cReact.memo \u4f1a\u8fd4\u56de\u4e0a\u4e00\u6b21\u7684\u6e32\u67d3\u7ed3\u679c\uff0c\u800c\u4e0d\u662f\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528\u573a\u666f",children:(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u573a\u666f"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4f18\u5316\u7ec4\u4ef6\uff1a\u9002\u7528\u4e8e\u90a3\u4e9b ",(0,r.jsx)(n.strong,{children:"\u7eaf\u51fd\u6570\u7ec4\u4ef6"}),"\uff0c\u5e76\u4e14\u7ec4\u4ef6\u7684\u6e32\u67d3\u4f9d\u8d56\u4e8e props\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u9632\u6b62\u5b50\u7ec4\u4ef6\u5728\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u65f6\u4e0d\u5fc5\u8981\u5730\u91cd\u590d\u6e32\u67d3\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4ee3\u7801\u793a\u4f8b",children:(0,r.jsx)(n.strong,{children:"\u4ee3\u7801\u793a\u4f8b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import React from 'react';\n\n// \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u7ec4\u4ef6\nconst MyComponent = ({ value }) => {\n  console.log('\u7ec4\u4ef6\u6e32\u67d3');\n  return <div>{value}</div>;\n};\n\n// \u4f7f\u7528 React.memo \u5305\u88f9\u7ec4\u4ef6\nconst MemoizedComponent = React.memo(MyComponent);\n\nconst App = () => {\n  const [count, setCount] = React.useState(0);\n\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>\u70b9\u51fb\u66f4\u65b0 count</button>\n      {/* MemoizedComponent \u53ea\u6709 value \u53d8\u5316\u65f6\u624d\u4f1a\u91cd\u65b0\u6e32\u67d3 */}\n      <MemoizedComponent value=\"Hello, React.memo!\" />\n    </div>\n  );\n};\n\nexport default App;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u7279\u70b9",children:(0,r.jsx)(n.strong,{children:"\u7279\u70b9"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6d45\u6bd4\u8f83"}),"\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c",(0,r.jsx)(n.code,{children:"React.memo"})," \u4f1a\u5bf9 props \u8fdb\u884c\u6d45\u6bd4\u8f83\u3002\u5982\u679c props \u662f\u590d\u6742\u5bf9\u8c61\uff0c\u9700\u8981\u901a\u8fc7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u81ea\u5b9a\u4e49\u6bd4\u8f83\u51fd\u6570\u3002","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const MemoizedComponent = React.memo(MyComponent, (prevProps, nextProps) => {\n  return prevProps.value === nextProps.value;\n});\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-usememo",children:(0,r.jsxs)(n.strong,{children:["2. ",(0,r.jsx)(n.code,{children:"useMemo"})]})}),"\n",(0,r.jsx)(n.h3,{id:"\u7528\u9014-1",children:(0,r.jsx)(n.strong,{children:"\u7528\u9014"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"useMemo"})," \u662f\u4e00\u4e2a ",(0,r.jsx)(n.strong,{children:"React Hook"}),"\uff0c\u7528\u4e8e\u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\u3002\u5b83\u4f1a\u5728\u4f9d\u8d56\u9879\u53d1\u751f\u53d8\u5316\u65f6\u91cd\u65b0\u8ba1\u7b97\u503c\uff0c\u907f\u514d\u6bcf\u6b21\u6e32\u67d3\u90fd\u91cd\u590d\u8ba1\u7b97\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5b9e\u73b0\u539f\u7406-1",children:(0,r.jsx)(n.strong,{children:"\u5b9e\u73b0\u539f\u7406"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useMemo"})," \u5728\u7ec4\u4ef6\u6e32\u67d3\u65f6\u4f1a\u68c0\u67e5\u4f9d\u8d56\u9879\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c\u4f9d\u8d56\u9879\u6ca1\u6709\u53d8\u5316\uff0c",(0,r.jsx)(n.code,{children:"useMemo"})," \u4f1a\u8fd4\u56de\u7f13\u5b58\u7684\u503c\uff0c\u800c\u4e0d\u662f\u91cd\u65b0\u8ba1\u7b97\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528\u573a\u666f-1",children:(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u573a\u666f"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4f18\u5316\u8ba1\u7b97\uff1a\u9002\u7528\u4e8e\u90a3\u4e9b ",(0,r.jsx)(n.strong,{children:"\u8017\u65f6\u7684\u8ba1\u7b97\u903b\u8f91"}),"\uff0c\u4f8b\u5982\u590d\u6742\u7684\u6570\u5b66\u8fd0\u7b97\u6216\u8fc7\u6ee4\u64cd\u4f5c\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u907f\u514d\u91cd\u590d\u521b\u5efa\u5bf9\u8c61\u6216\u51fd\u6570\uff1a\u53ef\u4ee5\u9632\u6b62\u5b50\u7ec4\u4ef6\u56e0\u5c5e\u6027\u53d8\u5316\u800c\u91cd\u65b0\u6e32\u67d3\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4ee3\u7801\u793a\u4f8b-1",children:(0,r.jsx)(n.strong,{children:"\u4ee3\u7801\u793a\u4f8b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import React, { useState, useMemo } from 'react';\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n  const [text, setText] = useState('');\n\n  // \u4f7f\u7528 useMemo \u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\n  const expensiveCalculation = useMemo(() => {\n    console.log('\u8fdb\u884c\u8017\u65f6\u8ba1\u7b97');\n    return count * 100;\n  }, [count]); // \u4f9d\u8d56 count\uff0c\u53ea\u6709 count \u53d8\u5316\u65f6\u624d\u91cd\u65b0\u8ba1\u7b97\n\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>\u589e\u52a0 count</button>\n      <input value={text} onChange={(e) => setText(e.target.value)} />\n      <p>\u8ba1\u7b97\u7ed3\u679c: {expensiveCalculation}</p>\n    </div>\n  );\n};\n\nexport default App;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u7279\u70b9-1",children:(0,r.jsx)(n.strong,{children:"\u7279\u70b9"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u4f9d\u8d56\u9879\u63a7\u5236"}),"\uff1a",(0,r.jsx)(n.code,{children:"useMemo"})," \u7684\u8ba1\u7b97\u903b\u8f91\u5b8c\u5168\u7531\u4f9d\u8d56\u9879\u6570\u7ec4\u63a7\u5236\uff0c\u53ea\u6709\u4f9d\u8d56\u9879\u53d8\u5316\u65f6\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9002\u7528\u4e8e\u503c\u7684\u7f13\u5b58"}),"\uff1a",(0,r.jsx)(n.code,{children:"useMemo"})," \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u503c\uff0c\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff08\u4f8b\u5982\u6570\u7ec4\u3001\u5bf9\u8c61\u3001\u5b57\u7b26\u4e32\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-\u533a\u522b\u603b\u7ed3",children:(0,r.jsx)(n.strong,{children:"3. \u533a\u522b\u603b\u7ed3"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u7279\u6027"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"React.memo"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"useMemo"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u7c7b\u578b"})}),(0,r.jsx)(n.td,{children:"\u9ad8\u9636\u7ec4\u4ef6\uff08HOC\uff09"}),(0,r.jsx)(n.td,{children:"React Hook"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u4f5c\u7528\u5bf9\u8c61"})}),(0,r.jsx)(n.td,{children:"\u6574\u4e2a\u7ec4\u4ef6\uff08\u63a7\u5236\u7ec4\u4ef6\u662f\u5426\u91cd\u65b0\u6e32\u67d3\uff09"}),(0,r.jsx)(n.td,{children:"\u5355\u4e2a\u8ba1\u7b97\u903b\u8f91\u6216\u503c\uff08\u63a7\u5236\u503c\u662f\u5426\u91cd\u65b0\u8ba1\u7b97\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u7f13\u5b58\u5185\u5bb9"})}),(0,r.jsx)(n.td,{children:"\u7ec4\u4ef6\u7684\u6e32\u67d3\u7ed3\u679c"}),(0,r.jsx)(n.td,{children:"\u8ba1\u7b97\u7ed3\u679c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u89e6\u53d1\u6761\u4ef6"})}),(0,r.jsx)(n.td,{children:"props \u7684\u53d8\u5316\uff08\u6d45\u6bd4\u8f83\u6216\u81ea\u5b9a\u4e49\u6bd4\u8f83\u51fd\u6570\uff09"}),(0,r.jsx)(n.td,{children:"\u4f9d\u8d56\u9879\u7684\u53d8\u5316"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u573a\u666f"})}),(0,r.jsx)(n.td,{children:"\u4f18\u5316\u7ec4\u4ef6\u6e32\u67d3"}),(0,r.jsx)(n.td,{children:"\u4f18\u5316\u590d\u6742\u8ba1\u7b97\u6216\u907f\u514d\u91cd\u590d\u521b\u5efa\u5bf9\u8c61"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u8fd4\u56de\u503c"})}),(0,r.jsx)(n.td,{children:"\u4e00\u4e2a\u7ec4\u4ef6\uff08\u7ecf\u8fc7\u4f18\u5316\u7684\uff09"}),(0,r.jsx)(n.td,{children:"\u8ba1\u7b97\u7ed3\u679c\uff08\u4efb\u4f55\u7c7b\u578b\u7684\u503c\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u4f9d\u8d56\u63a7\u5236"})}),(0,r.jsx)(n.td,{children:"\u9ed8\u8ba4\u6d45\u6bd4\u8f83 props\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u6bd4\u8f83\u51fd\u6570"}),(0,r.jsx)(n.td,{children:"\u5b8c\u5168\u7531\u4f9d\u8d56\u9879\u6570\u7ec4\u63a7\u5236"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-\u4f7f\u7528\u5efa\u8bae",children:(0,r.jsx)(n.strong,{children:"4. \u4f7f\u7528\u5efa\u8bae"})}),"\n",(0,r.jsx)(n.h3,{id:"reactmemo",children:(0,r.jsx)(n.strong,{children:"React.memo"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c\u7ec4\u4ef6\u7684\u6e32\u67d3\u4f9d\u8d56\u4e8e props\uff0c\u4e14\u7ec4\u4ef6\u6bd4\u8f83\u590d\u6742\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"React.memo"})," \u6765\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679c props \u662f\u590d\u6742\u5bf9\u8c61\uff08\u5982\u6570\u7ec4\u6216\u5bf9\u8c61\uff09\uff0c\u9700\u8981\u63d0\u4f9b\u81ea\u5b9a\u4e49\u6bd4\u8f83\u51fd\u6570\u4ee5\u907f\u514d\u9519\u8bef\u7684\u91cd\u65b0\u6e32\u67d3\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"usememo",children:(0,r.jsx)(n.strong,{children:"useMemo"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c\u67d0\u4e9b\u8ba1\u7b97\u903b\u8f91\u975e\u5e38\u8017\u65f6\uff08\u4f8b\u5982\u8fc7\u6ee4\u3001\u6392\u5e8f\u3001\u5927\u91cf\u8ba1\u7b97\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"useMemo"})," \u6765\u7f13\u5b58\u7ed3\u679c\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c\u9700\u8981\u7f13\u5b58\u67d0\u4e9b\u5bf9\u8c61\u6216\u51fd\u6570\uff08\u4f8b\u5982\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u7684 props\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"useMemo"})," \u9632\u6b62\u5b50\u7ec4\u4ef6\u91cd\u590d\u6e32\u67d3\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"5-\u7efc\u5408\u793a\u4f8b",children:(0,r.jsx)(n.strong,{children:"5. \u7efc\u5408\u793a\u4f8b"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7ed3\u5408 ",(0,r.jsx)(n.code,{children:"React.memo"})," \u548c ",(0,r.jsx)(n.code,{children:"useMemo"}),"\uff0c\u4f18\u5316\u5b50\u7ec4\u4ef6\u6e32\u67d3\u548c\u590d\u6742\u8ba1\u7b97\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import React, { useState, useMemo } from 'react';\n\nconst ChildComponent = React.memo(({ data }) => {\n  console.log('\u5b50\u7ec4\u4ef6\u6e32\u67d3');\n  return <div>\u6570\u636e: {data.join(', ')}</div>;\n});\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n  const [text, setText] = useState('');\n\n  // \u4f7f\u7528 useMemo \u7f13\u5b58\u6570\u636e\n  const data = useMemo(() => {\n    console.log('\u6570\u636e\u91cd\u65b0\u8ba1\u7b97');\n    return Array.from({ length: count }, (_, i) => i + 1);\n  }, [count]);\n\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>\u589e\u52a0 count</button>\n      <input value={text} onChange={(e) => setText(e.target.value)} />\n      {/* \u5b50\u7ec4\u4ef6\u4f7f\u7528 React.memo\uff0c\u907f\u514d data \u672a\u53d8\u5316\u65f6\u91cd\u590d\u6e32\u67d3 */}\n      <ChildComponent data={data} />\n    </div>\n  );\n};\n\nexport default App;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["\u901a\u8fc7\u4ee5\u4e0a\u5bf9\u6bd4\u548c\u793a\u4f8b\uff0c",(0,r.jsx)(n.code,{children:"React.memo"})," \u548c ",(0,r.jsx)(n.code,{children:"useMemo"})," \u5404\u6709\u5176\u9002\u7528\u573a\u666f\u3002\u5408\u7406\u4f7f\u7528\u5b83\u4eec\u53ef\u4ee5\u663e\u8457\u63d0\u5347 React \u5e94\u7528\u7684\u6027\u80fd\u3002"]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var t=s(96540);const r={},o=t.createContext(r);function c(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);