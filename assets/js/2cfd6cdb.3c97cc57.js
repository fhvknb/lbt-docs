"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[1383],{28453:(e,n,c)=>{c.d(n,{R:()=>d,x:()=>a});var l=c(96540);const s={},r=l.createContext(s);function d(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(r.Provider,{value:n},e.children)}},60919:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>t,frontMatter:()=>d,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"DevOps/docker/\u6570\u636e\u5377\u4e2d\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb","title":"Docker\u6570\u636e\u5377\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb","description":"---","source":"@site/docs/DevOps/docker/\u6570\u636e\u5377\u4e2d\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb.md","sourceDirName":"DevOps/docker","slug":"/DevOps/docker/\u6570\u636e\u5377\u4e2d\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb","permalink":"/docs/DevOps/docker/\u6570\u636e\u5377\u4e2d\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Docker\u6570\u636e\u5377\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb","tag":["docker"]},"sidebar":"tutorialSidebar","previous":{"title":"\u624b\u52a8\u5b89\u88c5 Docker Buildx","permalink":"/docs/DevOps/docker/\u624b\u52a8\u5b89\u88c5buildx\u63d2\u4ef6"},"next":{"title":"\u4e0d\u4f7f\u7528ORM\u5982\u4f55\u4f18\u96c5\u7ba1\u7406\u6570\u636e\u5e93\u66f4\u65b0","permalink":"/docs/DevOps/mysql/NextJS\u4e0d\u4f7f\u7528ORM\u6570\u636e\u5e93\u7ba1\u7406"}}');var s=c(74848),r=c(28453);const d={title:"Docker\u6570\u636e\u5377\u6570\u636e\u7684\u590d\u5236\u548c\u8fc1\u79fb",tag:["docker"]},a=void 0,i={},o=[{value:"\u65b9\u6cd5 1\uff1a\u4f7f\u7528 <code>docker cp</code> \u547d\u4ee4",id:"\u65b9\u6cd5-1\u4f7f\u7528-docker-cp-\u547d\u4ee4",level:3},{value:"\u6b65\u9aa4\uff1a",id:"\u6b65\u9aa4",level:4},{value:"\u793a\u4f8b\uff1a",id:"\u793a\u4f8b",level:4},{value:"\u65b9\u6cd5 2\uff1a\u76f4\u63a5\u6302\u8f7d\u6570\u636e\u5377\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u5e76\u62f7\u8d1d",id:"\u65b9\u6cd5-2\u76f4\u63a5\u6302\u8f7d\u6570\u636e\u5377\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u5e76\u62f7\u8d1d",level:3},{value:"\u6b65\u9aa4\uff1a",id:"\u6b65\u9aa4-1",level:4},{value:"\u793a\u4f8b\uff1a",id:"\u793a\u4f8b-1",level:4},{value:"\u65b9\u6cd5 3\uff1a\u76f4\u63a5\u4ece\u6570\u636e\u5377\u76ee\u5f55\u4e2d\u590d\u5236\uff08Linux \u4e3b\u673a\uff09",id:"\u65b9\u6cd5-3\u76f4\u63a5\u4ece\u6570\u636e\u5377\u76ee\u5f55\u4e2d\u590d\u5236linux-\u4e3b\u673a",level:3},{value:"\u6b65\u9aa4\uff1a",id:"\u6b65\u9aa4-2",level:4},{value:"\u65b9\u6cd5 4\uff1a\u4f7f\u7528 <code>tar</code> \u6253\u5305\u5e76\u5bfc\u51fa",id:"\u65b9\u6cd5-4\u4f7f\u7528-tar-\u6253\u5305\u5e76\u5bfc\u51fa",level:3},{value:"\u6b65\u9aa4\uff1a",id:"\u6b65\u9aa4-3",level:4},{value:"\u65b9\u6cd5 5\uff1a\u5907\u4efd\u6574\u4e2a\u6570\u636e\u5377",id:"\u65b9\u6cd5-5\u5907\u4efd\u6574\u4e2a\u6570\u636e\u5377",level:3},{value:"\u5907\u4efd\u6570\u636e\u5377\uff1a",id:"\u5907\u4efd\u6570\u636e\u5377",level:4},{value:"\u793a\u4f8b\uff1a",id:"\u793a\u4f8b-2",level:4},{value:"\u89e3\u538b\u5907\u4efd\uff1a",id:"\u89e3\u538b\u5907\u4efd",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:3}];function h(e){const n={code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"\u65b9\u6cd5-1\u4f7f\u7528-docker-cp-\u547d\u4ee4",children:["\u65b9\u6cd5 1\uff1a\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"docker cp"})," \u547d\u4ee4"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"docker cp"})," \u547d\u4ee4\u53ef\u4ee5\u76f4\u63a5\u4ece\u5bb9\u5668\u4e2d\u590d\u5236\u6587\u4ef6\u5230\u4e3b\u673a\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u6b65\u9aa4",children:"\u6b65\u9aa4\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u627e\u5230\u6302\u8f7d\u4e86\u6570\u636e\u5377\u7684\u5bb9\u5668\u540d\u79f0\u6216 ID\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker ps\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"docker cp"})," \u547d\u4ee4\u5c06\u6570\u636e\u4ece\u5bb9\u5668\u4e2d\u590d\u5236\u5230\u4e3b\u673a\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker cp <container_name>:<container_path> <host_path>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u793a\u4f8b",children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.p,{children:["\u5047\u8bbe\u6570\u636e\u5377\u6302\u8f7d\u5728\u5bb9\u5668\u7684 ",(0,s.jsx)(n.code,{children:"/var/lib/mysql"})," \u76ee\u5f55\uff0c\u60f3\u5c06\u5176\u62f7\u8d1d\u5230\u4e3b\u673a\u7684 ",(0,s.jsx)(n.code,{children:"/backup"})," \u76ee\u5f55\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker cp my_database:/var/lib/mysql /backup\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u65b9\u6cd5-2\u76f4\u63a5\u6302\u8f7d\u6570\u636e\u5377\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u5e76\u62f7\u8d1d",children:"\u65b9\u6cd5 2\uff1a\u76f4\u63a5\u6302\u8f7d\u6570\u636e\u5377\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u5e76\u62f7\u8d1d"}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u542f\u52a8\u4e00\u4e2a\u4e34\u65f6\u5bb9\u5668\uff0c\u6302\u8f7d\u9700\u8981\u7684\u5377\uff0c\u7136\u540e\u4ece\u8be5\u5bb9\u5668\u4e2d\u62f7\u8d1d\u6570\u636e\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u6b65\u9aa4-1",children:"\u6b65\u9aa4\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u542f\u52a8\u4e00\u4e2a\u4e34\u65f6\u5bb9\u5668\uff0c\u6302\u8f7d\u76ee\u6807\u6570\u636e\u5377\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v <volume_name>:<mount_path> -v <host_path>:<backup_path> busybox \\\ncp -r <mount_path>/* <backup_path>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u793a\u4f8b-1",children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.p,{children:["\u5047\u8bbe\u6570\u636e\u5377\u540d\u4e3a ",(0,s.jsx)(n.code,{children:"my_volume"}),"\uff0c\u6302\u8f7d\u5230 ",(0,s.jsx)(n.code,{children:"/data"}),"\uff0c\u5e76\u5c06\u6570\u636e\u62f7\u8d1d\u5230\u4e3b\u673a\u7684 ",(0,s.jsx)(n.code,{children:"/backup"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v my_volume:/data -v /backup:/backup busybox \\\ncp -r /data/* /backup\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u65b9\u6cd5-3\u76f4\u63a5\u4ece\u6570\u636e\u5377\u76ee\u5f55\u4e2d\u590d\u5236linux-\u4e3b\u673a",children:"\u65b9\u6cd5 3\uff1a\u76f4\u63a5\u4ece\u6570\u636e\u5377\u76ee\u5f55\u4e2d\u590d\u5236\uff08Linux \u4e3b\u673a\uff09"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 Linux \u4e0a\uff0cDocker \u6570\u636e\u5377\u901a\u5e38\u5b58\u50a8\u5728 ",(0,s.jsx)(n.code,{children:"/var/lib/docker/volumes"})," \u76ee\u5f55\u4e0b\u3002\u53ef\u4ee5\u76f4\u63a5\u627e\u5230\u5bf9\u5e94\u7684\u5377\u76ee\u5f55\u5e76\u590d\u5236\u6570\u636e\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u6b65\u9aa4-2",children:"\u6b65\u9aa4\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u627e\u5230\u6570\u636e\u5377\u7684\u8def\u5f84\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker volume inspect <volume_name>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8f93\u51fa\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "Name": "my_volume",\n        "Driver": "local",\n        "Mountpoint": "/var/lib/docker/volumes/my_volume/_data",\n        "Scope": "local"\n    }\n]\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6570\u636e\u5b9e\u9645\u5b58\u50a8\u5728 ",(0,s.jsx)(n.code,{children:"Mountpoint"})," \u6307\u5b9a\u7684\u8def\u5f84\uff08\u5982 ",(0,s.jsx)(n.code,{children:"/var/lib/docker/volumes/my_volume/_data"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u76f4\u63a5\u590d\u5236\u6570\u636e\u5230\u4e3b\u673a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp -r /var/lib/docker/volumes/my_volume/_data /backup\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"\u65b9\u6cd5-4\u4f7f\u7528-tar-\u6253\u5305\u5e76\u5bfc\u51fa",children:["\u65b9\u6cd5 4\uff1a\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"tar"})," \u6253\u5305\u5e76\u5bfc\u51fa"]}),"\n",(0,s.jsxs)(n.p,{children:["\u53ef\u4ee5\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"tar"})," \u5c06\u6570\u636e\u6253\u5305\u540e\u518d\u62f7\u8d1d\u51fa\u6765\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u6b65\u9aa4-3",children:"\u6b65\u9aa4\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u4e2d\u6253\u5305\u6570\u636e\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker exec <container_name> tar -cvf /backup.tar <container_path>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker exec my_database tar -cvf /backup.tar /var/lib/mysql\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5c06\u6253\u5305\u6587\u4ef6\u62f7\u8d1d\u5230\u4e3b\u673a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker cp <container_name>:/backup.tar <host_path>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker cp my_database:/backup.tar /backup/backup.tar\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u89e3\u538b\u6587\u4ef6\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tar -xvf /backup/backup.tar -C <destination_path>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u65b9\u6cd5-5\u5907\u4efd\u6574\u4e2a\u6570\u636e\u5377",children:"\u65b9\u6cd5 5\uff1a\u5907\u4efd\u6574\u4e2a\u6570\u636e\u5377"}),"\n",(0,s.jsxs)(n.p,{children:["\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"docker run"})," \u547d\u4ee4\u5c06\u6570\u636e\u5377\u5907\u4efd\u5230\u4e00\u4e2a tar \u6587\u4ef6\u4e2d\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u5907\u4efd\u6570\u636e\u5377",children:"\u5907\u4efd\u6570\u636e\u5377\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v <volume_name>:/data -v $(pwd):/backup busybox \\\ntar -czf /backup/volume_backup.tar.gz /data\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u793a\u4f8b-2",children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.p,{children:["\u5c06\u540d\u4e3a ",(0,s.jsx)(n.code,{children:"my_volume"})," \u7684\u6570\u636e\u5377\u5907\u4efd\u5230\u5f53\u524d\u76ee\u5f55\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v my_volume:/data -v $(pwd):/backup busybox \\\ntar -czf /backup/my_volume_backup.tar.gz /data\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u89e3\u538b\u5907\u4efd",children:"\u89e3\u538b\u5907\u4efd\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tar -xvzf my_volume_backup.tar.gz -C /destination_path\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"docker cp"})}),"\uff1a\u9002\u5408\u76f4\u63a5\u4ece\u5bb9\u5668\u4e2d\u590d\u5236\u6587\u4ef6\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u6302\u8f7d\u6570\u636e\u5377\u5230\u4e34\u65f6\u5bb9\u5668"}),"\uff1a\u9002\u5408\u76f4\u63a5\u64cd\u4f5c\u5377\u4e2d\u7684\u6570\u636e\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u76f4\u63a5\u8bbf\u95ee\u4e3b\u673a\u4e0a\u7684\u5377\u76ee\u5f55"}),"\uff1a\u9002\u5408\u5728 Linux \u4e3b\u673a\u4e0a\u64cd\u4f5c\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"tar"})," \u6253\u5305"]}),"\uff1a\u9002\u5408\u9700\u8981\u5907\u4efd\u548c\u8fc1\u79fb\u7684\u573a\u666f\u3002"]}),"\n"]})]})}function t(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);