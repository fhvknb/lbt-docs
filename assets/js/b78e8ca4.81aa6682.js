"use strict";(self.webpackChunklbt_docs=self.webpackChunklbt_docs||[]).push([[2563],{28453:(s,e,n)=>{n.d(e,{R:()=>c,x:()=>i});var l=n(96540);const r={},d=l.createContext(r);function c(s){const e=l.useContext(d);return l.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function i(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(r):s.components||r:c(s.components),l.createElement(d.Provider,{value:e},s.children)}},40542:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>h,contentTitle:()=>i,default:()=>o,frontMatter:()=>c,metadata:()=>l,toc:()=>x});const l=JSON.parse('{"id":"FullStock/Database\u77e5\u8bc6/Postgress \u4f7f\u7528\u7b14\u8bb0","title":"Postgress \u4f7f\u7528\u7b14\u8bb0","description":"\u5728\u4f7f\u7528 Docker \u90e8\u7f72\u7684 PostgreSQL \u4e2d\uff0c\u5bfc\u51fa\u6570\u636e\u7684\u8fc7\u7a0b\u4e0e\u666e\u901a PostgreSQL \u6570\u636e\u5e93\u7c7b\u4f3c\uff0c\u4f46\u9700\u8981\u901a\u8fc7 Docker \u5bb9\u5668\u6765\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u5177\u4f53\u6b65\u9aa4\uff1a","source":"@site/docs/FullStock/Database\u77e5\u8bc6/Postgress \u4f7f\u7528\u7b14\u8bb0.md","sourceDirName":"FullStock/Database\u77e5\u8bc6","slug":"/FullStock/Database\u77e5\u8bc6/Postgress \u4f7f\u7528\u7b14\u8bb0","permalink":"/docs/FullStock/Database\u77e5\u8bc6/Postgress \u4f7f\u7528\u7b14\u8bb0","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4e0d\u4f7f\u7528ORM\u5982\u4f55\u4f18\u96c5\u7ba1\u7406\u6570\u636e\u5e93\u66f4\u65b0","permalink":"/docs/FullStock/Database\u77e5\u8bc6/NextJS\u4e0d\u4f7f\u7528ORM\u6570\u636e\u5e93\u7ba1\u7406"},"next":{"title":"Sql \u4f7f\u7528\u7b14\u8bb0","permalink":"/docs/FullStock/Database\u77e5\u8bc6/Sql \u4f7f\u7528\u7b14\u8bb0"}}');var r=n(74848),d=n(28453);const c={},i=void 0,h={},x=[{value:"1. <strong>\u786e\u8ba4 PostgreSQL \u5bb9\u5668\u6b63\u5728\u8fd0\u884c</strong>",id:"1-\u786e\u8ba4-postgresql-\u5bb9\u5668\u6b63\u5728\u8fd0\u884c",level:3},{value:"2. <strong>\u8fdb\u5165 PostgreSQL \u5bb9\u5668</strong>",id:"2-\u8fdb\u5165-postgresql-\u5bb9\u5668",level:3},{value:"3. <strong>\u4f7f\u7528 <code>pg_dump</code> \u5bfc\u51fa\u6570\u636e</strong>",id:"3-\u4f7f\u7528-pg_dump-\u5bfc\u51fa\u6570\u636e",level:3},{value:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93",id:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93",level:4},{value:"\u5bfc\u51fa\u4e3a SQL \u811a\u672c",id:"\u5bfc\u51fa\u4e3a-sql-\u811a\u672c",level:4},{value:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4",id:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4",level:4},{value:"4. <strong>\u5c06\u5bfc\u51fa\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u4e3b\u673a</strong>",id:"4-\u5c06\u5bfc\u51fa\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u4e3b\u673a",level:3},{value:"5. <strong>\u9000\u51fa\u5bb9\u5668</strong>",id:"5-\u9000\u51fa\u5bb9\u5668",level:3},{value:"6. <strong>\u76f4\u63a5\u4ece\u4e3b\u673a\u5bfc\u51fa\u6570\u636e\uff08\u53ef\u9009\uff09</strong>",id:"6-\u76f4\u63a5\u4ece\u4e3b\u673a\u5bfc\u51fa\u6570\u636e\u53ef\u9009",level:3},{value:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93",id:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93-1",level:4},{value:"\u5bfc\u51fa\u4e3a SQL \u811a\u672c",id:"\u5bfc\u51fa\u4e3a-sql-\u811a\u672c-1",level:4},{value:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4",id:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4-1",level:4},{value:"7. <strong>\u5bfc\u51fa\u8868\u4e3a CSV\uff08\u53ef\u9009\uff09</strong>",id:"7-\u5bfc\u51fa\u8868\u4e3a-csv\u53ef\u9009",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:3},{value:"<strong>1. \u767b\u5f55 PostgreSQL</strong>",id:"1-\u767b\u5f55-postgresql",level:2},{value:"<strong>1.1 \u767b\u5f55\u5230 PostgreSQL</strong>",id:"11-\u767b\u5f55\u5230-postgresql",level:3},{value:"\u672c\u5730\u767b\u5f55",id:"\u672c\u5730\u767b\u5f55",level:4},{value:"<strong>1.2 \u767b\u5f55\u5230 PostgreSQL \u5bb9\u5668</strong>",id:"12-\u767b\u5f55\u5230-postgresql-\u5bb9\u5668",level:3},{value:"<strong>2. \u5e38\u7528\u547d\u4ee4</strong>",id:"2-\u5e38\u7528\u547d\u4ee4",level:2},{value:"<strong>2.1 \u6570\u636e\u5e93\u76f8\u5173\u64cd\u4f5c</strong>",id:"21-\u6570\u636e\u5e93\u76f8\u5173\u64cd\u4f5c",level:3},{value:"\u67e5\u770b\u6240\u6709\u6570\u636e\u5e93",id:"\u67e5\u770b\u6240\u6709\u6570\u636e\u5e93",level:4},{value:"\u5207\u6362\u6570\u636e\u5e93",id:"\u5207\u6362\u6570\u636e\u5e93",level:4},{value:"\u521b\u5efa\u6570\u636e\u5e93",id:"\u521b\u5efa\u6570\u636e\u5e93",level:4},{value:"\u5220\u9664\u6570\u636e\u5e93",id:"\u5220\u9664\u6570\u636e\u5e93",level:4},{value:"<strong>2.2 \u7528\u6237\u76f8\u5173\u64cd\u4f5c</strong>",id:"22-\u7528\u6237\u76f8\u5173\u64cd\u4f5c",level:3},{value:"\u67e5\u770b\u6240\u6709\u7528\u6237",id:"\u67e5\u770b\u6240\u6709\u7528\u6237",level:4},{value:"\u521b\u5efa\u7528\u6237",id:"\u521b\u5efa\u7528\u6237",level:4},{value:"\u5220\u9664\u7528\u6237",id:"\u5220\u9664\u7528\u6237",level:4},{value:"\u7ed9\u7528\u6237\u8d4b\u4e88\u6743\u9650",id:"\u7ed9\u7528\u6237\u8d4b\u4e88\u6743\u9650",level:4},{value:"<strong>2.3 \u8868\u76f8\u5173\u64cd\u4f5c</strong>",id:"23-\u8868\u76f8\u5173\u64cd\u4f5c",level:3},{value:"\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868",id:"\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868",level:4},{value:"\u521b\u5efa\u8868",id:"\u521b\u5efa\u8868",level:4},{value:"\u5220\u9664\u8868",id:"\u5220\u9664\u8868",level:4},{value:"\u67e5\u770b\u8868\u7ed3\u6784",id:"\u67e5\u770b\u8868\u7ed3\u6784",level:4},{value:"<strong>2.4 \u63d2\u5165\u3001\u67e5\u8be2\u3001\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e</strong>",id:"24-\u63d2\u5165\u67e5\u8be2\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e",level:3},{value:"\u63d2\u5165\u6570\u636e",id:"\u63d2\u5165\u6570\u636e",level:4},{value:"\u67e5\u8be2\u6570\u636e",id:"\u67e5\u8be2\u6570\u636e",level:4},{value:"\u66f4\u65b0\u6570\u636e",id:"\u66f4\u65b0\u6570\u636e",level:4},{value:"\u5220\u9664\u6570\u636e",id:"\u5220\u9664\u6570\u636e",level:4},{value:"<strong>2.5 \u5907\u4efd\u4e0e\u8fd8\u539f</strong>",id:"25-\u5907\u4efd\u4e0e\u8fd8\u539f",level:3},{value:"\u4f7f\u7528 <code>pg_dump</code> \u5907\u4efd\u6570\u636e\u5e93",id:"\u4f7f\u7528-pg_dump-\u5907\u4efd\u6570\u636e\u5e93",level:4},{value:"\u4f7f\u7528 <code>pg_restore</code> \u8fd8\u539f\u6570\u636e\u5e93",id:"\u4f7f\u7528-pg_restore-\u8fd8\u539f\u6570\u636e\u5e93",level:4},{value:"\u4f7f\u7528 <code>pg_dumpall</code> \u5907\u4efd\u6240\u6709\u6570\u636e\u5e93",id:"\u4f7f\u7528-pg_dumpall-\u5907\u4efd\u6240\u6709\u6570\u636e\u5e93",level:4},{value:"\u4f7f\u7528 <code>psql</code> \u6062\u590d\u6240\u6709\u6570\u636e\u5e93",id:"\u4f7f\u7528-psql-\u6062\u590d\u6240\u6709\u6570\u636e\u5e93",level:4},{value:"<strong>2.6 \u9000\u51fa PostgreSQL</strong>",id:"26-\u9000\u51fa-postgresql",level:3},{value:"<strong>2.7 \u5176\u4ed6\u5e38\u7528\u547d\u4ee4</strong>",id:"27-\u5176\u4ed6\u5e38\u7528\u547d\u4ee4",level:3},{value:"\u67e5\u770b\u5f53\u524d\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d",id:"\u67e5\u770b\u5f53\u524d\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d",level:4},{value:"\u67e5\u770b\u5f53\u524d\u7528\u6237",id:"\u67e5\u770b\u5f53\u524d\u7528\u6237",level:4},{value:"\u67e5\u770b\u6570\u636e\u5e93\u7248\u672c",id:"\u67e5\u770b\u6570\u636e\u5e93\u7248\u672c",level:4},{value:"\u67e5\u770b\u8868\u4e2d\u7684\u524d\u51e0\u884c\u6570\u636e",id:"\u67e5\u770b\u8868\u4e2d\u7684\u524d\u51e0\u884c\u6570\u636e",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-1",level:3},{value:"1. <strong>\u786e\u8ba4 PostgreSQL \u662f\u5426\u5df2\u5b89\u88c5</strong>",id:"1-\u786e\u8ba4-postgresql-\u662f\u5426\u5df2\u5b89\u88c5",level:3},{value:"2. <strong>\u521d\u59cb\u5316\u6570\u636e\u5e93</strong>",id:"2-\u521d\u59cb\u5316\u6570\u636e\u5e93",level:3},{value:"3. <strong>\u542f\u52a8 PostgreSQL \u670d\u52a1</strong>",id:"3-\u542f\u52a8-postgresql-\u670d\u52a1",level:3},{value:"4. <strong>\u68c0\u67e5\u5957\u63a5\u5b57\u6587\u4ef6\u8def\u5f84</strong>",id:"4-\u68c0\u67e5\u5957\u63a5\u5b57\u6587\u4ef6\u8def\u5f84",level:3},{value:"5. <strong>\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u8fd0\u884c</strong>",id:"5-\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u8fd0\u884c",level:3},{value:"6. <strong>\u68c0\u67e5\u7aef\u53e3\u548c\u914d\u7f6e</strong>",id:"6-\u68c0\u67e5\u7aef\u53e3\u548c\u914d\u7f6e",level:3},{value:"7. <strong>\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6</strong>",id:"7-\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6",level:3},{value:"8. <strong>\u91cd\u5efa\u6570\u636e\u5e93\u76ee\u5f55\uff08\u5982\u679c\u5fc5\u8981\uff09</strong>",id:"8-\u91cd\u5efa\u6570\u636e\u5e93\u76ee\u5f55\u5982\u679c\u5fc5\u8981",level:3},{value:"9. <strong>\u5c1d\u8bd5\u8fde\u63a5</strong>",id:"9-\u5c1d\u8bd5\u8fde\u63a5",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-2",level:3},{value:"<strong>1. <code>initdb</code></strong>",id:"1-initdb",level:2},{value:"<strong>2. <code>pg_ctl</code></strong>",id:"2-pg_ctl",level:2},{value:"<strong>3. <code>psql</code></strong>",id:"3-psql",level:2},{value:"<strong>4. <code>pg_dump</code></strong>",id:"4-pg_dump",level:2},{value:"<strong>5. <code>pg_restore</code></strong>",id:"5-pg_restore",level:2},{value:"<strong>6. <code>createdb</code></strong>",id:"6-createdb",level:2},{value:"<strong>7. <code>dropdb</code></strong>",id:"7-dropdb",level:2},{value:"<strong>8. <code>pg_basebackup</code></strong>",id:"8-pg_basebackup",level:2},{value:"<strong>9. <code>pg_isready</code></strong>",id:"9-pg_isready",level:2},{value:"<strong>10. <code>vacuumdb</code></strong>",id:"10-vacuumdb",level:2},{value:"<strong>11. <code>reindexdb</code></strong>",id:"11-reindexdb",level:2},{value:"<strong>12. <code>pg_dumpall</code></strong>",id:"12-pg_dumpall",level:2},{value:"<strong>13. <code>pg_config</code></strong>",id:"13-pg_config",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-3",level:3},{value:"<strong>1. \u4fee\u6539 PostgreSQL \u914d\u7f6e\u4ee5\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5</strong>",id:"1-\u4fee\u6539-postgresql-\u914d\u7f6e\u4ee5\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5",level:2},{value:"<strong>1.1 \u4fee\u6539 <code>postgresql.conf</code> \u6587\u4ef6</strong>",id:"11-\u4fee\u6539-postgresqlconf-\u6587\u4ef6",level:3},{value:"<strong>1.2 \u4fee\u6539 <code>pg_hba.conf</code> \u6587\u4ef6</strong>",id:"12-\u4fee\u6539-pg_hbaconf-\u6587\u4ef6",level:3},{value:"<strong>1.3 \u91cd\u542f PostgreSQL \u670d\u52a1</strong>",id:"13-\u91cd\u542f-postgresql-\u670d\u52a1",level:3},{value:"<strong>2. \u8bbe\u7f6e PostgreSQL \u7528\u6237\u5bc6\u7801</strong>",id:"2-\u8bbe\u7f6e-postgresql-\u7528\u6237\u5bc6\u7801",level:2},{value:"<strong>2.1 \u767b\u5f55\u5230 PostgreSQL</strong>",id:"21-\u767b\u5f55\u5230-postgresql",level:3},{value:"<strong>2.2 \u8bbe\u7f6e\u6216\u4fee\u6539\u7528\u6237\u5bc6\u7801</strong>",id:"22-\u8bbe\u7f6e\u6216\u4fee\u6539\u7528\u6237\u5bc6\u7801",level:3},{value:"<strong>3. \u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5</strong>",id:"3-\u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5",level:2},{value:"<strong>3.1 \u4f7f\u7528 <code>psql</code> \u6d4b\u8bd5</strong>",id:"31-\u4f7f\u7528-psql-\u6d4b\u8bd5",level:3},{value:"<strong>3.2 \u4f7f\u7528\u56fe\u5f62\u5316\u5de5\u5177\u6d4b\u8bd5</strong>",id:"32-\u4f7f\u7528\u56fe\u5f62\u5316\u5de5\u5177\u6d4b\u8bd5",level:3},{value:"<strong>4. \u5e38\u89c1\u95ee\u9898\u6392\u67e5</strong>",id:"4-\u5e38\u89c1\u95ee\u9898\u6392\u67e5",level:2},{value:"<strong>4.1 \u9632\u706b\u5899\u95ee\u9898</strong>",id:"41-\u9632\u706b\u5899\u95ee\u9898",level:3},{value:"<strong>\u68c0\u67e5\u9632\u706b\u5899\u89c4\u5219</strong>",id:"\u68c0\u67e5\u9632\u706b\u5899\u89c4\u5219",level:4},{value:"<strong>4.2 \u68c0\u67e5 PostgreSQL \u670d\u52a1\u662f\u5426\u8fd0\u884c</strong>",id:"42-\u68c0\u67e5-postgresql-\u670d\u52a1\u662f\u5426\u8fd0\u884c",level:3},{value:"<strong>\u68c0\u67e5\u670d\u52a1\u72b6\u6001</strong>",id:"\u68c0\u67e5\u670d\u52a1\u72b6\u6001",level:4},{value:"<strong>\u68c0\u67e5\u76d1\u542c\u7aef\u53e3</strong>",id:"\u68c0\u67e5\u76d1\u542c\u7aef\u53e3",level:4},{value:"<strong>4.3 \u68c0\u67e5\u65e5\u5fd7\u6587\u4ef6</strong>",id:"43-\u68c0\u67e5\u65e5\u5fd7\u6587\u4ef6",level:3},{value:"<strong>\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e</strong>",id:"\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e",level:4},{value:"<strong>\u603b\u7ed3</strong>",id:"\u603b\u7ed3-4",level:3}];function j(s){const e={code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"\u5728\u4f7f\u7528 Docker \u90e8\u7f72\u7684 PostgreSQL \u4e2d\uff0c\u5bfc\u51fa\u6570\u636e\u7684\u8fc7\u7a0b\u4e0e\u666e\u901a PostgreSQL \u6570\u636e\u5e93\u7c7b\u4f3c\uff0c\u4f46\u9700\u8981\u901a\u8fc7 Docker \u5bb9\u5668\u6765\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u5177\u4f53\u6b65\u9aa4\uff1a"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"1-\u786e\u8ba4-postgresql-\u5bb9\u5668\u6b63\u5728\u8fd0\u884c",children:["1. ",(0,r.jsx)(e.strong,{children:"\u786e\u8ba4 PostgreSQL \u5bb9\u5668\u6b63\u5728\u8fd0\u884c"})]}),"\n",(0,r.jsx)(e.p,{children:"\u9996\u5148\uff0c\u786e\u4fdd PostgreSQL \u5bb9\u5668\u6b63\u5728\u8fd0\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u5bb9\u5668\u5217\u8868\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker ps\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u627e\u5230 PostgreSQL \u5bb9\u5668\u7684 ",(0,r.jsx)(e.code,{children:"CONTAINER ID"})," \u6216 ",(0,r.jsx)(e.code,{children:"NAME"}),"\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"postgres-container"}),"\u3002"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"2-\u8fdb\u5165-postgresql-\u5bb9\u5668",children:["2. ",(0,r.jsx)(e.strong,{children:"\u8fdb\u5165 PostgreSQL \u5bb9\u5668"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"docker exec"})," \u547d\u4ee4\u8fdb\u5165 PostgreSQL \u5bb9\u5668\u7684\u7ec8\u7aef\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -it <container_name_or_id> bash\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -it postgres-container bash\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fdb\u5165\u5bb9\u5668\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 PostgreSQL \u63d0\u4f9b\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff08\u5982 ",(0,r.jsx)(e.code,{children:"pg_dump"}),"\uff09\u8fdb\u884c\u6570\u636e\u5bfc\u51fa\u3002"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"3-\u4f7f\u7528-pg_dump-\u5bfc\u51fa\u6570\u636e",children:["3. ",(0,r.jsxs)(e.strong,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dump"})," \u5bfc\u51fa\u6570\u636e"]})]}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u5165\u5bb9\u5668\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u51fa PostgreSQL \u6570\u636e\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93",children:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93"}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dump"})," \u5bfc\u51fa\u7279\u5b9a\u6570\u636e\u5e93\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d> -F c -f /tmp/<\u5bfc\u51fa\u6587\u4ef6\u540d>.dump\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump -U postgres -d mydb -F c -f /tmp/mydb.dump\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U"}),"\uff1a\u6307\u5b9a PostgreSQL \u7528\u6237\u540d\uff08\u5982 ",(0,r.jsx)(e.code,{children:"postgres"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-d"}),"\uff1a\u6307\u5b9a\u8981\u5bfc\u51fa\u7684\u6570\u636e\u5e93\u540d\uff08\u5982 ",(0,r.jsx)(e.code,{children:"mydb"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-F c"}),"\uff1a\u6307\u5b9a\u5bfc\u51fa\u683c\u5f0f\u4e3a\u81ea\u5b9a\u4e49\u683c\u5f0f\uff08",(0,r.jsx)(e.code,{children:"c"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-f"}),"\uff1a\u6307\u5b9a\u5bfc\u51fa\u6587\u4ef6\u7684\u8def\u5f84\uff08\u5982 ",(0,r.jsx)(e.code,{children:"/tmp/mydb.dump"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"\u5bfc\u51fa\u4e3a-sql-\u811a\u672c",children:"\u5bfc\u51fa\u4e3a SQL \u811a\u672c"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u9700\u8981\u5bfc\u51fa\u4e3a SQL \u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump -U postgres -d mydb -F p -f /tmp/mydb.sql\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4",children:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4"}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u9700\u8981\u5bfc\u51fa\u5bb9\u5668\u4e2d\u6240\u6709\u7684\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dumpall"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dumpall -U postgres -f /tmp/all_databases.sql\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"4-\u5c06\u5bfc\u51fa\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u4e3b\u673a",children:["4. ",(0,r.jsx)(e.strong,{children:"\u5c06\u5bfc\u51fa\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u4e3b\u673a"})]}),"\n",(0,r.jsx)(e.p,{children:"\u5bfc\u51fa\u5b8c\u6210\u540e\uff0c\u6587\u4ef6\u4f1a\u4fdd\u5b58\u5728\u5bb9\u5668\u5185\u90e8\u3002\u9700\u8981\u5c06\u6587\u4ef6\u62f7\u8d1d\u5230\u4e3b\u673a\u4e0a\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"docker cp"})," \u547d\u4ee4\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker cp <container_name_or_id>:/tmp/<\u5bfc\u51fa\u6587\u4ef6\u540d>.dump <\u4e3b\u673a\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker cp postgres-container:/tmp/mydb.dump /home/user/mydb.dump\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"5-\u9000\u51fa\u5bb9\u5668",children:["5. ",(0,r.jsx)(e.strong,{children:"\u9000\u51fa\u5bb9\u5668"})]}),"\n",(0,r.jsx)(e.p,{children:"\u5b8c\u6210\u64cd\u4f5c\u540e\uff0c\u53ef\u4ee5\u9000\u51fa\u5bb9\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"exit\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"6-\u76f4\u63a5\u4ece\u4e3b\u673a\u5bfc\u51fa\u6570\u636e\u53ef\u9009",children:["6. ",(0,r.jsx)(e.strong,{children:"\u76f4\u63a5\u4ece\u4e3b\u673a\u5bfc\u51fa\u6570\u636e\uff08\u53ef\u9009\uff09"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u4e0d\u60f3\u8fdb\u5165\u5bb9\u5668\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u4e3b\u673a\u4e0a\u8fd0\u884c ",(0,r.jsx)(e.code,{children:"docker exec"})," \u547d\u4ee4\u6765\u5bfc\u51fa\u6570\u636e\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93-1",children:"\u5bfc\u51fa\u5355\u4e2a\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -i <container_name_or_id> pg_dump -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d> -F c > <\u4e3b\u673a\u6587\u4ef6\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -i postgres-container pg_dump -U postgres -d mydb -F c > /home/user/mydb.dump\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5bfc\u51fa\u4e3a-sql-\u811a\u672c-1",children:"\u5bfc\u51fa\u4e3a SQL \u811a\u672c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -i postgres-container pg_dump -U postgres -d mydb -F p > /home/user/mydb.sql\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4-1",children:"\u5bfc\u51fa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -i postgres-container pg_dumpall -U postgres > /home/user/all_databases.sql\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"7-\u5bfc\u51fa\u8868\u4e3a-csv\u53ef\u9009",children:["7. ",(0,r.jsx)(e.strong,{children:"\u5bfc\u51fa\u8868\u4e3a CSV\uff08\u53ef\u9009\uff09"})]}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u53ea\u9700\u8981\u5bfc\u51fa\u67d0\u5f20\u8868\u7684\u6570\u636e\u4e3a CSV\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -i <container_name_or_id> psql -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d> -c \"\\COPY <\u8868\u540d> TO '/tmp/<\u8868\u540d>.csv' CSV HEADER\"\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u7136\u540e\u5c06 CSV \u6587\u4ef6\u4ece\u5bb9\u5668\u62f7\u8d1d\u5230\u4e3b\u673a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker cp <container_name_or_id>:/tmp/<\u8868\u540d>.csv <\u4e3b\u673a\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u767b\u5f55\u5bb9\u5668"}),"\uff1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"docker exec"})," \u8fdb\u5165\u5bb9\u5668\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsxs)(e.strong,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dump"})," \u6216 ",(0,r.jsx)(e.code,{children:"pg_dumpall"})]}),"\uff1a\u5bfc\u51fa\u6570\u636e\u5e93\u6216\u6574\u4e2a\u96c6\u7fa4\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u62f7\u8d1d\u6587\u4ef6\u5230\u4e3b\u673a"}),"\uff1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"docker cp"})," \u5c06\u5bb9\u5668\u5185\u7684\u5bfc\u51fa\u6587\u4ef6\u590d\u5236\u5230\u4e3b\u673a\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u76f4\u63a5\u5bfc\u51fa\u5230\u4e3b\u673a\uff08\u53ef\u9009\uff09"}),"\uff1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"docker exec"})," \u5c06\u6570\u636e\u76f4\u63a5\u5bfc\u51fa\u5230\u4e3b\u673a\u6587\u4ef6\u7cfb\u7edf\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u6709\u5176\u4ed6\u95ee\u9898\uff0c\u8bf7\u968f\u65f6\u544a\u8bc9\u6211\uff01"}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0b\u662f PostgreSQL \u7684\u767b\u5f55\u64cd\u4f5c\u53ca\u5e38\u7528\u67e5\u8be2\u547d\u4ee4\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u5305\u62ec\u5982\u4f55\u767b\u5f55\u6570\u636e\u5e93\u3001\u57fa\u7840\u64cd\u4f5c\u548c\u5e38\u7528 SQL \u67e5\u8be2\u3002"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1-\u767b\u5f55-postgresql",children:(0,r.jsx)(e.strong,{children:"1. \u767b\u5f55 PostgreSQL"})}),"\n",(0,r.jsx)(e.h3,{id:"11-\u767b\u5f55\u5230-postgresql",children:(0,r.jsx)(e.strong,{children:"1.1 \u767b\u5f55\u5230 PostgreSQL"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u7ec8\u7aef\u4e2d\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"psql"})," \u547d\u4ee4\u767b\u5f55 PostgreSQL \u6570\u636e\u5e93\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u672c\u5730\u767b\u5f55",children:"\u672c\u5730\u767b\u5f55"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -U postgres -d mydb\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U <\u7528\u6237\u540d>"}),"\uff1a\u6307\u5b9a\u767b\u5f55\u7684\u6570\u636e\u5e93\u7528\u6237\uff08\u5982 ",(0,r.jsx)(e.code,{children:"postgres"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-d <\u6570\u636e\u5e93\u540d>"}),"\uff1a\u6307\u5b9a\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c PostgreSQL\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u4e3b\u673a\u6216\u7aef\u53e3\u4e0a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -h <\u4e3b\u673a\u5730\u5740> -p <\u7aef\u53e3\u53f7> -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -h 127.0.0.1 -p 5432 -U postgres -d mydb\n"})}),"\n",(0,r.jsx)(e.h3,{id:"12-\u767b\u5f55\u5230-postgresql-\u5bb9\u5668",children:(0,r.jsx)(e.strong,{children:"1.2 \u767b\u5f55\u5230 PostgreSQL \u5bb9\u5668"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c PostgreSQL \u8fd0\u884c\u5728 Docker \u5bb9\u5668\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u767b\u5f55\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u8fdb\u5165\u5bb9\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -it <container_name_or_id> bash\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u767b\u5f55 PostgreSQL\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d>\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u6216\u8005\u76f4\u63a5\u8fd0\u884c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker exec -it <container_name_or_id> psql -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d>\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2-\u5e38\u7528\u547d\u4ee4",children:(0,r.jsx)(e.strong,{children:"2. \u5e38\u7528\u547d\u4ee4"})}),"\n",(0,r.jsx)(e.h3,{id:"21-\u6570\u636e\u5e93\u76f8\u5173\u64cd\u4f5c",children:(0,r.jsx)(e.strong,{children:"2.1 \u6570\u636e\u5e93\u76f8\u5173\u64cd\u4f5c"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u6240\u6709\u6570\u636e\u5e93",children:"\u67e5\u770b\u6240\u6709\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\l\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5207\u6362\u6570\u636e\u5e93",children:"\u5207\u6362\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\c <\u6570\u636e\u5e93\u540d>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\c mydb\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u521b\u5efa\u6570\u636e\u5e93",children:"\u521b\u5efa\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE DATABASE <\u6570\u636e\u5e93\u540d>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE DATABASE mydb;\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5220\u9664\u6570\u636e\u5e93",children:"\u5220\u9664\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DROP DATABASE <\u6570\u636e\u5e93\u540d>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DROP DATABASE mydb;\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"22-\u7528\u6237\u76f8\u5173\u64cd\u4f5c",children:(0,r.jsx)(e.strong,{children:"2.2 \u7528\u6237\u76f8\u5173\u64cd\u4f5c"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u6240\u6709\u7528\u6237",children:"\u67e5\u770b\u6240\u6709\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\du\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u521b\u5efa\u7528\u6237",children:"\u521b\u5efa\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE USER <\u7528\u6237\u540d> WITH PASSWORD '<\u5bc6\u7801>';\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE USER myuser WITH PASSWORD 'mypassword';\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5220\u9664\u7528\u6237",children:"\u5220\u9664\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DROP USER <\u7528\u6237\u540d>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DROP USER myuser;\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u7ed9\u7528\u6237\u8d4b\u4e88\u6743\u9650",children:"\u7ed9\u7528\u6237\u8d4b\u4e88\u6743\u9650"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"GRANT ALL PRIVILEGES ON DATABASE <\u6570\u636e\u5e93\u540d> TO <\u7528\u6237\u540d>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"GRANT ALL PRIVILEGES ON DATABASE mydb TO myuser;\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"23-\u8868\u76f8\u5173\u64cd\u4f5c",children:(0,r.jsx)(e.strong,{children:"2.3 \u8868\u76f8\u5173\u64cd\u4f5c"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868",children:"\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\dt\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u521b\u5efa\u8868",children:"\u521b\u5efa\u8868"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE <\u8868\u540d> (\n    <\u5217\u540d1> <\u6570\u636e\u7c7b\u578b> [\u7ea6\u675f],\n    <\u5217\u540d2> <\u6570\u636e\u7c7b\u578b> [\u7ea6\u675f],\n    ...\n);\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(100),\n    age INT,\n    email VARCHAR(100)\n);\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5220\u9664\u8868",children:"\u5220\u9664\u8868"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DROP TABLE <\u8868\u540d>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DROP TABLE users;\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u8868\u7ed3\u6784",children:"\u67e5\u770b\u8868\u7ed3\u6784"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\d <\u8868\u540d>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\d users\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"24-\u63d2\u5165\u67e5\u8be2\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e",children:(0,r.jsx)(e.strong,{children:"2.4 \u63d2\u5165\u3001\u67e5\u8be2\u3001\u66f4\u65b0\u548c\u5220\u9664\u6570\u636e"})}),"\n",(0,r.jsx)(e.h4,{id:"\u63d2\u5165\u6570\u636e",children:"\u63d2\u5165\u6570\u636e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"INSERT INTO <\u8868\u540d> (<\u5217\u540d1>, <\u5217\u540d2>, ...) VALUES (<\u503c1>, <\u503c2>, ...);\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"INSERT INTO users (name, age, email) VALUES ('Alice', 25, 'alice@example.com');\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u8be2\u6570\u636e",children:"\u67e5\u8be2\u6570\u636e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT <\u5217\u540d1>, <\u5217\u540d2>, ... FROM <\u8868\u540d> WHERE <\u6761\u4ef6>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM users;\nSELECT name, age FROM users WHERE age > 20;\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u66f4\u65b0\u6570\u636e",children:"\u66f4\u65b0\u6570\u636e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"UPDATE <\u8868\u540d> SET <\u5217\u540d1>=<\u503c1>, <\u5217\u540d2>=<\u503c2>, ... WHERE <\u6761\u4ef6>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"UPDATE users SET age = 26 WHERE name = 'Alice';\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5220\u9664\u6570\u636e",children:"\u5220\u9664\u6570\u636e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DELETE FROM <\u8868\u540d> WHERE <\u6761\u4ef6>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"DELETE FROM users WHERE age < 18;\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"25-\u5907\u4efd\u4e0e\u8fd8\u539f",children:(0,r.jsx)(e.strong,{children:"2.5 \u5907\u4efd\u4e0e\u8fd8\u539f"})}),"\n",(0,r.jsxs)(e.h4,{id:"\u4f7f\u7528-pg_dump-\u5907\u4efd\u6570\u636e\u5e93",children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dump"})," \u5907\u4efd\u6570\u636e\u5e93"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d> -F c -f <\u5907\u4efd\u6587\u4ef6\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump -U postgres -d mydb -F c -f /path/to/backup.dump\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"\u4f7f\u7528-pg_restore-\u8fd8\u539f\u6570\u636e\u5e93",children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_restore"})," \u8fd8\u539f\u6570\u636e\u5e93"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_restore -U <\u7528\u6237\u540d> -d <\u6570\u636e\u5e93\u540d> -F c <\u5907\u4efd\u6587\u4ef6\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_restore -U postgres -d mydb -F c /path/to/backup.dump\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"\u4f7f\u7528-pg_dumpall-\u5907\u4efd\u6240\u6709\u6570\u636e\u5e93",children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dumpall"})," \u5907\u4efd\u6240\u6709\u6570\u636e\u5e93"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dumpall -U <\u7528\u6237\u540d> > <\u5907\u4efd\u6587\u4ef6\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dumpall -U postgres > /path/to/all_databases.sql\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"\u4f7f\u7528-psql-\u6062\u590d\u6240\u6709\u6570\u636e\u5e93",children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"psql"})," \u6062\u590d\u6240\u6709\u6570\u636e\u5e93"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -U <\u7528\u6237\u540d> -f <\u5907\u4efd\u6587\u4ef6\u8def\u5f84>\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -U postgres -f /path/to/all_databases.sql\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"26-\u9000\u51fa-postgresql",children:(0,r.jsx)(e.strong,{children:"2.6 \u9000\u51fa PostgreSQL"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 ",(0,r.jsx)(e.code,{children:"psql"})," \u547d\u4ee4\u884c\u4e2d\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u9000\u51fa\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"\\q\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"27-\u5176\u4ed6\u5e38\u7528\u547d\u4ee4",children:(0,r.jsx)(e.strong,{children:"2.7 \u5176\u4ed6\u5e38\u7528\u547d\u4ee4"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u5f53\u524d\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d",children:"\u67e5\u770b\u5f53\u524d\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT current_database();\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u5f53\u524d\u7528\u6237",children:"\u67e5\u770b\u5f53\u524d\u7528\u6237"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT current_user;\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u6570\u636e\u5e93\u7248\u672c",children:"\u67e5\u770b\u6570\u636e\u5e93\u7248\u672c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT version();\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u67e5\u770b\u8868\u4e2d\u7684\u524d\u51e0\u884c\u6570\u636e",children:"\u67e5\u770b\u8868\u4e2d\u7684\u524d\u51e0\u884c\u6570\u636e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM <\u8868\u540d> LIMIT <\u884c\u6570>;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM users LIMIT 10;\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"\u603b\u7ed3-1",children:"\u603b\u7ed3"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u767b\u5f55\u6570\u636e\u5e93"}),"\uff1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"psql"})," \u6216 ",(0,r.jsx)(e.code,{children:"docker exec"})," \u767b\u5f55\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u547d\u4ee4"}),"\uff1a\u5305\u62ec\u521b\u5efa/\u5220\u9664\u6570\u636e\u5e93\u3001\u7528\u6237\u7ba1\u7406\u3001\u8868\u64cd\u4f5c\u3001\u6570\u636e\u67e5\u8be2\u7b49\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5907\u4efd\u4e0e\u8fd8\u539f"}),"\uff1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_dump"})," \u548c ",(0,r.jsx)(e.code,{children:"pg_restore"})," \u8fdb\u884c\u6570\u636e\u5e93\u5bfc\u5165\u5bfc\u51fa\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u6709\u5176\u4ed6\u9700\u6c42\u6216\u9700\u8981\u66f4\u8be6\u7ec6\u7684\u8bf4\u660e\uff0c\u8bf7\u968f\u65f6\u544a\u8bc9\u6211\uff01"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u4e2a\u9519\u8bef\u8868\u660e PostgreSQL \u5ba2\u6237\u7aef\u65e0\u6cd5\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u5b83\u627e\u4e0d\u5230\u8fd0\u884c\u4e2d\u7684 PostgreSQL \u670d\u52a1\u6216\u5bf9\u5e94\u7684\u5957\u63a5\u5b57\u6587\u4ef6\u3002\u4ee5\u4e0b\u662f\u89e3\u51b3\u95ee\u9898\u7684\u6b65\u9aa4\uff1a"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"1-\u786e\u8ba4-postgresql-\u662f\u5426\u5df2\u5b89\u88c5",children:["1. ",(0,r.jsx)(e.strong,{children:"\u786e\u8ba4 PostgreSQL \u662f\u5426\u5df2\u5b89\u88c5"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5728 Termux \u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u68c0\u67e5 PostgreSQL \u662f\u5426\u5df2\u6b63\u786e\u5b89\u88c5\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pkg install postgresql\n"})}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c PostgreSQL \u672a\u5b89\u88c5\uff0c\u5b89\u88c5\u540e\u518d\u7ee7\u7eed\u64cd\u4f5c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"2-\u521d\u59cb\u5316\u6570\u636e\u5e93",children:["2. ",(0,r.jsx)(e.strong,{children:"\u521d\u59cb\u5316\u6570\u636e\u5e93"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c PostgreSQL \u662f\u65b0\u5b89\u88c5\u7684\uff0c\u4f60\u9700\u8981\u5148\u521d\u59cb\u5316\u6570\u636e\u5e93\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"initdb $PREFIX/var/lib/postgresql\n"})}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u8fd9\u4e00\u6b65\u4f1a\u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u6570\u636e\u7684 PostgreSQL \u6570\u636e\u5e93\u76ee\u5f55\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"3-\u542f\u52a8-postgresql-\u670d\u52a1",children:["3. ",(0,r.jsx)(e.strong,{children:"\u542f\u52a8 PostgreSQL \u670d\u52a1"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["PostgreSQL \u9700\u8981\u4e00\u4e2a\u670d\u52a1\u6765\u8fd0\u884c\uff0c\u786e\u4fdd\u5b83\u5df2\u542f\u52a8\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_ctl -D $PREFIX/var/lib/postgresql start\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u542f\u52a8\u6210\u529f\uff0c\u5e94\u8be5\u4f1a\u663e\u793a\u7c7b\u4f3c\u4ee5\u4e0b\u5185\u5bb9\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"server started\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u65e5\u5fd7\u6587\u4ef6\uff08\u901a\u5e38\u4f4d\u4e8e ",(0,r.jsx)(e.code,{children:"$PREFIX/var/lib/postgresql/pg_log"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"4-\u68c0\u67e5\u5957\u63a5\u5b57\u6587\u4ef6\u8def\u5f84",children:["4. ",(0,r.jsx)(e.strong,{children:"\u68c0\u67e5\u5957\u63a5\u5b57\u6587\u4ef6\u8def\u5f84"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPostgreSQL \u7684\u5957\u63a5\u5b57\u6587\u4ef6\u4f1a\u5b58\u50a8\u5728 ",(0,r.jsx)(e.code,{children:"/tmp"})," \u6216\u5176\u4ed6\u6307\u5b9a\u76ee\u5f55\u4e2d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["Termux \u7684 PostgreSQL \u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"$PREFIX/tmp"})," \u4f5c\u4e3a\u5957\u63a5\u5b57\u76ee\u5f55\uff0c\u56e0\u6b64\u9700\u8981\u786e\u4fdd\u8def\u5f84\u6b63\u786e\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u8def\u5f84\u4e0d\u6b63\u786e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6307\u5b9a\u5957\u63a5\u5b57\u8def\u5f84\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -h $PREFIX/tmp\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"5-\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u8fd0\u884c",children:["5. ",(0,r.jsx)(e.strong,{children:"\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u8fd0\u884c"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 PostgreSQL \u670d\u52a1\u662f\u5426\u6b63\u5728\u8fd0\u884c\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_ctl status\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u670d\u52a1\u672a\u8fd0\u884c\uff0c\u5c1d\u8bd5\u91cd\u65b0\u542f\u52a8\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_ctl -D $PREFIX/var/lib/postgresql restart\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"6-\u68c0\u67e5\u7aef\u53e3\u548c\u914d\u7f6e",children:["6. ",(0,r.jsx)(e.strong,{children:"\u68c0\u67e5\u7aef\u53e3\u548c\u914d\u7f6e"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u786e\u4fdd PostgreSQL \u4f7f\u7528\u6b63\u786e\u7684\u7aef\u53e3\uff08\u9ed8\u8ba4\u662f 5432\uff09\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u6765\u68c0\u67e5\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"nano $PREFIX/var/lib/postgresql/postgresql.conf\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u786e\u4fdd\u4ee5\u4e0b\u8bbe\u7f6e\u6b63\u786e\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-conf",children:"port = 5432\nunix_socket_directories = '/data/data/com.termux/files/usr/tmp'\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"7-\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6",children:["7. ",(0,r.jsx)(e.strong,{children:"\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u95ee\u9898\u4ecd\u7136\u5b58\u5728\uff0c\u67e5\u770b PostgreSQL \u7684\u65e5\u5fd7\u6587\u4ef6\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cat $PREFIX/var/lib/postgresql/pg_log/*.log\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"8-\u91cd\u5efa\u6570\u636e\u5e93\u76ee\u5f55\u5982\u679c\u5fc5\u8981",children:["8. ",(0,r.jsx)(e.strong,{children:"\u91cd\u5efa\u6570\u636e\u5e93\u76ee\u5f55\uff08\u5982\u679c\u5fc5\u8981\uff09"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u6570\u636e\u5e93\u76ee\u5f55\u635f\u574f\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u91cd\u65b0\u521d\u59cb\u5316\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"rm -rf $PREFIX/var/lib/postgresql\ninitdb $PREFIX/var/lib/postgresql\npg_ctl -D $PREFIX/var/lib/postgresql start\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"9-\u5c1d\u8bd5\u8fde\u63a5",children:["9. ",(0,r.jsx)(e.strong,{children:"\u5c1d\u8bd5\u8fde\u63a5"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4e00\u65e6\u670d\u52a1\u542f\u52a8\u6210\u529f\uff0c\u5c1d\u8bd5\u8fde\u63a5\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -h $PREFIX/tmp -p 5432\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"\u603b\u7ed3-2",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u4e2a\u9519\u8bef\u901a\u5e38\u662f\u7531\u4e8e PostgreSQL \u670d\u52a1\u672a\u542f\u52a8\u6216\u5957\u63a5\u5b57\u8def\u5f84\u914d\u7f6e\u9519\u8bef\u5f15\u8d77\u7684\u3002\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u89e3\u51b3\u95ee\u9898\u3002\u5982\u679c\u95ee\u9898\u4ecd\u7136\u5b58\u5728\uff0c\u8bf7\u63d0\u4f9b\u65e5\u5fd7\u6587\u4ef6\u5185\u5bb9\u4ee5\u4fbf\u8fdb\u4e00\u6b65\u6392\u67e5\u3002\nPostgreSQL \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u6570\u636e\u5e93\u7684\u7ba1\u7406\u3001\u5907\u4efd\u3001\u6062\u590d\u3001\u8c03\u8bd5\u7b49\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f PostgreSQL \u4e2d\u5e38\u89c1\u7684\u547d\u4ee4\u884c\u5de5\u5177\u53ca\u5176\u4f7f\u7528\u8bf4\u660e\uff1a"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1-initdb",children:(0,r.jsxs)(e.strong,{children:["1. ",(0,r.jsx)(e.code,{children:"initdb"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u521d\u59cb\u5316\u6570\u636e\u5e93\u96c6\u7fa4\uff08\u521b\u5efa PostgreSQL \u6570\u636e\u5e93\u7684\u5b58\u50a8\u76ee\u5f55\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"initdb [OPTION]... [DATADIR]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-D DATADIR"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7684\u6570\u636e\u76ee\u5f55\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--username=USERNAME"}),"\uff1a\u6307\u5b9a\u8d85\u7ea7\u7528\u6237\u540d\u79f0\uff08\u9ed8\u8ba4\u662f\u5f53\u524d\u7528\u6237\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--auth=METHOD"}),"\uff1a\u6307\u5b9a\u672c\u5730\u7528\u6237\u7684\u8ba4\u8bc1\u65b9\u6cd5\uff08\u5982 ",(0,r.jsx)(e.code,{children:"trust"}),", ",(0,r.jsx)(e.code,{children:"password"}),", ",(0,r.jsx)(e.code,{children:"md5"})," \u7b49\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--no-locale"}),"\uff1a\u4e0d\u4f7f\u7528\u533a\u57df\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"C"})," \u533a\u57df\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--encoding=ENCODING"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7f16\u7801\uff08\u5982 ",(0,r.jsx)(e.code,{children:"UTF8"}),"\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"initdb -D /var/lib/postgresql/data --encoding=UTF8 --auth=md5\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2-pg_ctl",children:(0,r.jsxs)(e.strong,{children:["2. ",(0,r.jsx)(e.code,{children:"pg_ctl"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u7528\u4e8e\u542f\u52a8\u3001\u505c\u6b62\u548c\u68c0\u67e5 PostgreSQL \u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u72b6\u6001\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_ctl [OPTION]... {start|stop|restart|reload|status}\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-D DATADIR"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7684\u6570\u636e\u76ee\u5f55\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-l FILENAME"}),"\uff1a\u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-w"}),"\uff1a\u7b49\u5f85\u64cd\u4f5c\u5b8c\u6210\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-m MODE"}),"\uff1a\u6307\u5b9a\u505c\u6b62\u6a21\u5f0f\uff08",(0,r.jsx)(e.code,{children:"smart"}),", ",(0,r.jsx)(e.code,{children:"fast"}),", ",(0,r.jsx)(e.code,{children:"immediate"}),"\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_ctl -D /var/lib/postgresql/data start\npg_ctl -D /var/lib/postgresql/data stop -m fast\npg_ctl -D /var/lib/postgresql/data status\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"3-psql",children:(0,r.jsxs)(e.strong,{children:["3. ",(0,r.jsx)(e.code,{children:"psql"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1aPostgreSQL \u7684\u4ea4\u4e92\u5f0f\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\uff0c\u7528\u4e8e\u6267\u884c SQL \u67e5\u8be2\u548c\u7ba1\u7406\u6570\u636e\u5e93\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql [OPTION]... [DBNAME [USERNAME]]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-h HOSTNAME"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u4e3b\u673a\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-p PORT"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7aef\u53e3\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U USERNAME"}),"\uff1a\u6307\u5b9a\u8fde\u63a5\u7684\u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-d DBNAME"}),"\uff1a\u6307\u5b9a\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-f FILENAME"}),"\uff1a\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6 SQL \u811a\u672c\u5e76\u6267\u884c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-c COMMAND"}),"\uff1a\u6267\u884c\u5355\u4e2a SQL \u547d\u4ee4\u540e\u9000\u51fa\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'psql -U postgres -d mydb\npsql -h localhost -p 5432 -U postgres -c "SELECT * FROM mytable;"\npsql -f script.sql\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"4-pg_dump",children:(0,r.jsxs)(e.strong,{children:["4. ",(0,r.jsx)(e.code,{children:"pg_dump"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u5907\u4efd\u5355\u4e2a\u6570\u636e\u5e93\u4e3a SQL \u811a\u672c\u6216\u4e8c\u8fdb\u5236\u683c\u5f0f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump [OPTION]... [DBNAME]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U USERNAME"}),"\uff1a\u6307\u5b9a\u8fde\u63a5\u7684\u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-f FILENAME"}),"\uff1a\u5c06\u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-F FORMAT"}),"\uff1a\u6307\u5b9a\u8f93\u51fa\u683c\u5f0f\uff08",(0,r.jsx)(e.code,{children:"p"})," \u4e3a\u7eaf\u6587\u672c\uff0c",(0,r.jsx)(e.code,{children:"c"})," \u4e3a\u81ea\u5b9a\u4e49\u683c\u5f0f\uff0c",(0,r.jsx)(e.code,{children:"d"})," \u4e3a\u76ee\u5f55\u683c\u5f0f\uff0c",(0,r.jsx)(e.code,{children:"t"})," \u4e3a tar \u683c\u5f0f\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-t TABLE"}),"\uff1a\u4ec5\u5bfc\u51fa\u6307\u5b9a\u7684\u8868\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--data-only"}),"\uff1a\u4ec5\u5bfc\u51fa\u6570\u636e\uff0c\u4e0d\u5bfc\u51fa\u8868\u7ed3\u6784\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--schema-only"}),"\uff1a\u4ec5\u5bfc\u51fa\u8868\u7ed3\u6784\uff0c\u4e0d\u5bfc\u51fa\u6570\u636e\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dump -U postgres -d mydb -f backup.sql\npg_dump -U postgres -d mydb -F c -f backup.dump\npg_dump -U postgres -d mydb -t mytable -f table_backup.sql\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"5-pg_restore",children:(0,r.jsxs)(e.strong,{children:["5. ",(0,r.jsx)(e.code,{children:"pg_restore"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u4ece ",(0,r.jsx)(e.code,{children:"pg_dump"})," \u7684\u81ea\u5b9a\u4e49\u683c\u5f0f\u6216\u76ee\u5f55\u683c\u5f0f\u5907\u4efd\u4e2d\u6062\u590d\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_restore [OPTION]... [FILENAME]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-d DBNAME"}),"\uff1a\u6307\u5b9a\u8981\u6062\u590d\u5230\u7684\u6570\u636e\u5e93\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-C"}),"\uff1a\u5728\u6062\u590d\u524d\u521b\u5efa\u6570\u636e\u5e93\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-j NJOBS"}),"\uff1a\u6307\u5b9a\u5e76\u884c\u6062\u590d\u7684\u4f5c\u4e1a\u6570\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-l"}),"\uff1a\u5217\u51fa\u5907\u4efd\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-t TABLE"}),"\uff1a\u4ec5\u6062\u590d\u6307\u5b9a\u7684\u8868\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_restore -U postgres -d mydb backup.dump\npg_restore -U postgres -C -d postgres backup.dump\npg_restore -U postgres -d mydb -t mytable table_backup.dump\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"6-createdb",children:(0,r.jsxs)(e.strong,{children:["6. ",(0,r.jsx)(e.code,{children:"createdb"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u5e93\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"createdb [OPTION]... [DBNAME]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U USERNAME"}),"\uff1a\u6307\u5b9a\u8fde\u63a5\u7684\u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-E ENCODING"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7684\u7f16\u7801\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--locale=LOCALE"}),"\uff1a\u6307\u5b9a\u533a\u57df\u8bbe\u7f6e\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-T TEMPLATE"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u6a21\u677f\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"createdb -U postgres mydb\ncreatedb -U postgres -E UTF8 --locale=en_US.UTF-8 mydb\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"7-dropdb",children:(0,r.jsxs)(e.strong,{children:["7. ",(0,r.jsx)(e.code,{children:"dropdb"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u5220\u9664\u4e00\u4e2a\u6570\u636e\u5e93\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"dropdb [OPTION]... DBNAME\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U USERNAME"}),"\uff1a\u6307\u5b9a\u8fde\u63a5\u7684\u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-i"}),"\uff1a\u4ea4\u4e92\u6a21\u5f0f\uff0c\u5220\u9664\u524d\u63d0\u793a\u786e\u8ba4\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"dropdb -U postgres mydb\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"8-pg_basebackup",children:(0,r.jsxs)(e.strong,{children:["8. ",(0,r.jsx)(e.code,{children:"pg_basebackup"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u7528\u4e8e\u521b\u5efa\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4\u7684\u57fa\u7840\u5907\u4efd\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_basebackup [OPTION]...\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-D DIRECTORY"}),"\uff1a\u6307\u5b9a\u5907\u4efd\u5b58\u50a8\u76ee\u5f55\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-F FORMAT"}),"\uff1a\u6307\u5b9a\u5907\u4efd\u683c\u5f0f\uff08",(0,r.jsx)(e.code,{children:"p"})," \u4e3a\u7eaf\u6587\u672c\uff0c",(0,r.jsx)(e.code,{children:"t"})," \u4e3a tar \u683c\u5f0f\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-X METHOD"}),"\uff1a\u6307\u5b9a WAL \u65e5\u5fd7\u5904\u7406\u65b9\u5f0f\uff08",(0,r.jsx)(e.code,{children:"fetch"})," \u6216 ",(0,r.jsx)(e.code,{children:"stream"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-z"}),"\uff1a\u542f\u7528\u538b\u7f29\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-P"}),"\uff1a\u663e\u793a\u8fdb\u5ea6\u6761\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_basebackup -D /backup -F tar -z -P\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"9-pg_isready",children:(0,r.jsxs)(e.strong,{children:["9. ",(0,r.jsx)(e.code,{children:"pg_isready"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u68c0\u67e5 PostgreSQL \u6570\u636e\u5e93\u670d\u52a1\u5668\u662f\u5426\u53ef\u7528\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_isready [OPTION]...\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-h HOSTNAME"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u4e3b\u673a\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-p PORT"}),"\uff1a\u6307\u5b9a\u6570\u636e\u5e93\u7aef\u53e3\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-U USERNAME"}),"\uff1a\u6307\u5b9a\u8fde\u63a5\u7684\u7528\u6237\u540d\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_isready -h localhost -p 5432 -U postgres\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"10-vacuumdb",children:(0,r.jsxs)(e.strong,{children:["10. ",(0,r.jsx)(e.code,{children:"vacuumdb"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u6e05\u7406\u6570\u636e\u5e93\uff0c\u56de\u6536\u65e0\u7528\u7a7a\u95f4\u5e76\u66f4\u65b0\u7edf\u8ba1\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"vacuumdb [OPTION]... [DBNAME]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-z"}),"\uff1a\u5206\u6790\u6570\u636e\u5e93\u5e76\u66f4\u65b0\u7edf\u8ba1\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-f"}),"\uff1a\u5f3a\u5236\u6267\u884c\u5168\u91cf\u6e05\u7406\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-t TABLE"}),"\uff1a\u4ec5\u6e05\u7406\u6307\u5b9a\u8868\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"vacuumdb -U postgres -z mydb\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"11-reindexdb",children:(0,r.jsxs)(e.strong,{children:["11. ",(0,r.jsx)(e.code,{children:"reindexdb"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u91cd\u65b0\u6784\u5efa\u6570\u636e\u5e93\u7d22\u5f15\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"reindexdb [OPTION]... [DBNAME]\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-t TABLE"}),"\uff1a\u91cd\u65b0\u7d22\u5f15\u6307\u5b9a\u8868\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--system"}),"\uff1a\u91cd\u65b0\u7d22\u5f15\u7cfb\u7edf\u8868\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"reindexdb -U postgres mydb\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"12-pg_dumpall",children:(0,r.jsxs)(e.strong,{children:["12. ",(0,r.jsx)(e.code,{children:"pg_dumpall"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u5907\u4efd\u6574\u4e2a\u6570\u636e\u5e93\u96c6\u7fa4\uff08\u5305\u62ec\u6240\u6709\u6570\u636e\u5e93\u548c\u5168\u5c40\u5bf9\u8c61\uff0c\u5982\u89d2\u8272\u548c\u6743\u9650\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dumpall [OPTION]...\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u9009\u9879"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"-f FILENAME"}),"\uff1a\u5c06\u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--globals-only"}),"\uff1a\u4ec5\u5907\u4efd\u5168\u5c40\u5bf9\u8c61\uff08\u5982\u89d2\u8272\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_dumpall -U postgres -f all_databases.sql\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"13-pg_config",children:(0,r.jsxs)(e.strong,{children:["13. ",(0,r.jsx)(e.code,{children:"pg_config"})]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u529f\u80fd"}),"\uff1a\u663e\u793a PostgreSQL \u7684\u7f16\u8bd1\u548c\u5b89\u88c5\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5e38\u7528\u8bed\u6cd5"}),"\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_config\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u793a\u4f8b"}),"\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_config\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"\u603b\u7ed3-3",children:"\u603b\u7ed3"}),"\n",(0,r.jsxs)(e.p,{children:["\u4ee5\u4e0a\u5217\u51fa\u4e86 PostgreSQL \u7684\u4e3b\u8981\u547d\u4ee4\u884c\u5de5\u5177\u53ca\u5176\u5e38\u7528\u9009\u9879\u548c\u4f7f\u7528\u793a\u4f8b\u3002\u8fd9\u4e9b\u5de5\u5177\u6db5\u76d6\u4e86\u6570\u636e\u5e93\u521d\u59cb\u5316\u3001\u5907\u4efd\u3001\u6062\u590d\u3001\u6e05\u7406\u3001\u4f18\u5316\u3001\u76d1\u63a7\u7b49\u5404\u4e2a\u65b9\u9762\uff0c\u662f\u7ba1\u7406 PostgreSQL \u6570\u636e\u5e93\u7684\u6838\u5fc3\u5de5\u5177\u96c6\u3002\u5982\u679c\u9700\u8981\u66f4\u8be6\u7ec6\u7684\u5e2e\u52a9\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"--help"})," \u67e5\u770b\u6bcf\u4e2a\u547d\u4ee4\u7684\u5b8c\u6574\u9009\u9879\u8bf4\u660e\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u5728 PostgreSQL \u4e2d\uff0c\u914d\u7f6e\u8fdc\u7a0b\u767b\u5f55\u5bc6\u7801\u9700\u8981\u8fdb\u884c\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff0c\u5305\u62ec\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3001\u521b\u5efa\u6216\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u4ee5\u53ca\u786e\u4fdd\u8fdc\u7a0b\u8bbf\u95ee\u6743\u9650\u6b63\u786e\u8bbe\u7f6e\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u7684\u914d\u7f6e\u6b65\u9aa4\uff1a"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1-\u4fee\u6539-postgresql-\u914d\u7f6e\u4ee5\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5",children:(0,r.jsx)(e.strong,{children:"1. \u4fee\u6539 PostgreSQL \u914d\u7f6e\u4ee5\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5"})}),"\n",(0,r.jsxs)(e.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPostgreSQL \u53ea\u5141\u8bb8\u672c\u5730\u8fde\u63a5\u3002\u5982\u679c\u9700\u8981\u8fdc\u7a0b\u8fde\u63a5\uff0c\u9700\u8981\u4fee\u6539 ",(0,r.jsx)(e.code,{children:"postgresql.conf"})," \u548c ",(0,r.jsx)(e.code,{children:"pg_hba.conf"})," \u6587\u4ef6\u3002"]}),"\n",(0,r.jsx)(e.h3,{id:"11-\u4fee\u6539-postgresqlconf-\u6587\u4ef6",children:(0,r.jsxs)(e.strong,{children:["1.1 \u4fee\u6539 ",(0,r.jsx)(e.code,{children:"postgresql.conf"})," \u6587\u4ef6"]})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u627e\u5230 ",(0,r.jsx)(e.code,{children:"postgresql.conf"})," \u6587\u4ef6\uff0c\u901a\u5e38\u4f4d\u4e8e PostgreSQL \u6570\u636e\u76ee\u5f55\u4e0b\uff08\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"/var/lib/pgsql/data/"})," \u6216 ",(0,r.jsx)(e.code,{children:"/etc/postgresql/<version>/main/"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6253\u5f00\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"nano /path/to/postgresql.conf\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u627e\u5230\u4ee5\u4e0b\u914d\u7f6e\u9879\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-conf",children:"#listen_addresses = 'localhost'\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4fee\u6539\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-conf",children:"listen_addresses = '*'\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"*"})," \u8868\u793a\u76d1\u542c\u6240\u6709 IP \u5730\u5740\u3002\u5982\u679c\u53ea\u5141\u8bb8\u7279\u5b9a IP\uff0c\u53ef\u4ee5\u7528\u9017\u53f7\u5206\u9694\u6307\u5b9a IP\uff08\u5982 ",(0,r.jsx)(e.code,{children:"listen_addresses = '192.168.1.100'"}),"\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4fdd\u5b58\u5e76\u9000\u51fa\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"12-\u4fee\u6539-pg_hbaconf-\u6587\u4ef6",children:(0,r.jsxs)(e.strong,{children:["1.2 \u4fee\u6539 ",(0,r.jsx)(e.code,{children:"pg_hba.conf"})," \u6587\u4ef6"]})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u627e\u5230 ",(0,r.jsx)(e.code,{children:"pg_hba.conf"})," \u6587\u4ef6\uff0c\u901a\u5e38\u4e0e ",(0,r.jsx)(e.code,{children:"postgresql.conf"})," \u6587\u4ef6\u4f4d\u4e8e\u540c\u4e00\u76ee\u5f55\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6253\u5f00\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"nano /path/to/pg_hba.conf\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\u5230\u6587\u4ef6\u7684\u672b\u5c3e\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-conf",children:"# Allow remote connections with password authentication\nhost    all             all             0.0.0.0/0               md5\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"host"}),"\uff1a\u8868\u793a\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"all"}),"\uff1a\u8868\u793a\u5141\u8bb8\u8fde\u63a5\u6240\u6709\u6570\u636e\u5e93\u548c\u6240\u6709\u7528\u6237\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"0.0.0.0/0"}),"\uff1a\u8868\u793a\u5141\u8bb8\u6240\u6709 IP \u5730\u5740\u8bbf\u95ee\u3002\u5982\u679c\u9700\u8981\u9650\u5236\u7279\u5b9a IP \u6bb5\uff0c\u53ef\u4ee5\u66ff\u6362\u4e3a\u5177\u4f53\u7684\u8303\u56f4\uff08\u5982 ",(0,r.jsx)(e.code,{children:"192.168.1.0/24"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"md5"}),"\uff1a\u8868\u793a\u4f7f\u7528 MD5 \u52a0\u5bc6\u7684\u5bc6\u7801\u9a8c\u8bc1\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4fdd\u5b58\u5e76\u9000\u51fa\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"13-\u91cd\u542f-postgresql-\u670d\u52a1",children:(0,r.jsx)(e.strong,{children:"1.3 \u91cd\u542f PostgreSQL \u670d\u52a1"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b8c\u6210\u4fee\u6539\u540e\uff0c\u9700\u8981\u91cd\u542f PostgreSQL \u670d\u52a1\u4ee5\u4f7f\u66f4\u6539\u751f\u6548\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"systemd"})," \u7ba1\u7406 PostgreSQL \u670d\u52a1\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"sudo systemctl restart postgresql\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pg_ctl"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pg_ctl restart -D /path/to/data\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2-\u8bbe\u7f6e-postgresql-\u7528\u6237\u5bc6\u7801",children:(0,r.jsx)(e.strong,{children:"2. \u8bbe\u7f6e PostgreSQL \u7528\u6237\u5bc6\u7801"})}),"\n",(0,r.jsx)(e.p,{children:"PostgreSQL \u7684\u7528\u6237\uff08\u4e5f\u53eb\u89d2\u8272\uff09\u9700\u8981\u8bbe\u7f6e\u5bc6\u7801\u624d\u80fd\u901a\u8fc7\u8fdc\u7a0b\u767b\u5f55\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"21-\u767b\u5f55\u5230-postgresql",children:(0,r.jsx)(e.strong,{children:"2.1 \u767b\u5f55\u5230 PostgreSQL"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u672c\u5730\u8d85\u7ea7\u7528\u6237\u767b\u5f55 PostgreSQL\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -U postgres\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6216\u8005\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"sudo -u postgres psql\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u786e\u4fdd\u4f60\u5df2\u7ecf\u521b\u5efa\u4e86\u4e00\u4e2a\u7528\u6237\u3002\u5982\u679c\u6ca1\u6709\u7528\u6237\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7528\u6237\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE USER username WITH PASSWORD 'password';\nALTER USER username WITH LOGIN;\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"22-\u8bbe\u7f6e\u6216\u4fee\u6539\u7528\u6237\u5bc6\u7801",children:(0,r.jsx)(e.strong,{children:"2.2 \u8bbe\u7f6e\u6216\u4fee\u6539\u7528\u6237\u5bc6\u7801"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u7528\u6237\u5df2\u7ecf\u5b58\u5728\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u6216\u4fee\u6539\u5bc6\u7801\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"ALTER USER username WITH PASSWORD 'new_password';\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u793a\u4f8b\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"ALTER USER myuser WITH PASSWORD 'mypassword';\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"3-\u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5",children:(0,r.jsx)(e.strong,{children:"3. \u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b8c\u6210\u914d\u7f6e\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"31-\u4f7f\u7528-psql-\u6d4b\u8bd5",children:(0,r.jsxs)(e.strong,{children:["3.1 \u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"psql"})," \u6d4b\u8bd5"]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fde\u63a5\u5230 PostgreSQL\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"psql -h <server_ip> -p 5432 -U username -d dbname\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<server_ip>"}),"\uff1aPostgreSQL \u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"5432"}),"\uff1aPostgreSQL \u7684\u9ed8\u8ba4\u7aef\u53e3\u53f7\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"username"}),"\uff1a\u767b\u5f55\u7684 PostgreSQL \u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"dbname"}),"\uff1a\u9700\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u8fde\u63a5\u6210\u529f\uff0c\u4f1a\u8fdb\u5165 ",(0,r.jsx)(e.code,{children:"psql"})," \u7684\u4ea4\u4e92\u5f0f\u547d\u4ee4\u884c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"32-\u4f7f\u7528\u56fe\u5f62\u5316\u5de5\u5177\u6d4b\u8bd5",children:(0,r.jsx)(e.strong,{children:"3.2 \u4f7f\u7528\u56fe\u5f62\u5316\u5de5\u5177\u6d4b\u8bd5"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u5316\u5de5\u5177\uff08\u5982 ",(0,r.jsx)(e.code,{children:"pgAdmin"}),", ",(0,r.jsx)(e.code,{children:"DBeaver"}),", ",(0,r.jsx)(e.code,{children:"DataGrip"}),"\uff09\u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u6253\u5f00\u5de5\u5177\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fde\u63a5\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Host"}),"\uff1a\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u57df\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Port"}),"\uff1a\u9ed8\u8ba4\u662f ",(0,r.jsx)(e.code,{children:"5432"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Database"}),"\uff1a\u9700\u8981\u8fde\u63a5\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Username"}),"\uff1aPostgreSQL \u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Password"}),"\uff1a\u7528\u6237\u5bc6\u7801\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u6d4b\u8bd5\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"4-\u5e38\u89c1\u95ee\u9898\u6392\u67e5",children:(0,r.jsx)(e.strong,{children:"4. \u5e38\u89c1\u95ee\u9898\u6392\u67e5"})}),"\n",(0,r.jsx)(e.h3,{id:"41-\u9632\u706b\u5899\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"4.1 \u9632\u706b\u5899\u95ee\u9898"})}),"\n",(0,r.jsx)(e.p,{children:"\u786e\u4fdd\u670d\u52a1\u5668\u9632\u706b\u5899\u5141\u8bb8 PostgreSQL \u7684\u9ed8\u8ba4\u7aef\u53e3\uff085432\uff09\u5bf9\u5916\u5f00\u653e\u3002\u5982\u679c\u9632\u706b\u5899\u963b\u6b62\u4e86\u6d41\u91cf\uff0c\u8fdc\u7a0b\u8fde\u63a5\u5c06\u5931\u8d25\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u68c0\u67e5\u9632\u706b\u5899\u89c4\u5219",children:(0,r.jsx)(e.strong,{children:"\u68c0\u67e5\u9632\u706b\u5899\u89c4\u5219"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"ufw"}),"\uff08Ubuntu/Debian \u7cfb\u7edf\uff09\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"sudo ufw allow 5432/tcp\nsudo ufw reload\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"firewalld"}),"\uff08CentOS/RHEL \u7cfb\u7edf\uff09\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"sudo firewall-cmd --add-port=5432/tcp --permanent\nsudo firewall-cmd --reload\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"42-\u68c0\u67e5-postgresql-\u670d\u52a1\u662f\u5426\u8fd0\u884c",children:(0,r.jsx)(e.strong,{children:"4.2 \u68c0\u67e5 PostgreSQL \u670d\u52a1\u662f\u5426\u8fd0\u884c"})}),"\n",(0,r.jsx)(e.p,{children:"\u786e\u4fdd PostgreSQL \u670d\u52a1\u6b63\u5728\u8fd0\u884c\u5e76\u76d1\u542c\u6b63\u786e\u7684\u7aef\u53e3\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u68c0\u67e5\u670d\u52a1\u72b6\u6001",children:(0,r.jsx)(e.strong,{children:"\u68c0\u67e5\u670d\u52a1\u72b6\u6001"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"systemctl"}),"\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"sudo systemctl status postgresql\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"\u68c0\u67e5\u76d1\u542c\u7aef\u53e3",children:(0,r.jsx)(e.strong,{children:"\u68c0\u67e5\u76d1\u542c\u7aef\u53e3"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"netstat"})," \u6216 ",(0,r.jsx)(e.code,{children:"ss"}),"\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"netstat -tuln | grep 5432\n"})}),"\n","\u6216","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"ss -tuln | grep 5432\n"})}),"\n","\u786e\u4fdd PostgreSQL \u6b63\u5728\u76d1\u542c ",(0,r.jsx)(e.code,{children:"5432"})," \u7aef\u53e3\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"43-\u68c0\u67e5\u65e5\u5fd7\u6587\u4ef6",children:(0,r.jsx)(e.strong,{children:"4.3 \u68c0\u67e5\u65e5\u5fd7\u6587\u4ef6"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u914d\u7f6e\u5b8c\u6210\u540e\u4ecd\u7136\u65e0\u6cd5\u8fde\u63a5\uff0c\u53ef\u4ee5\u67e5\u770b PostgreSQL \u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u6392\u67e5\u95ee\u9898\u539f\u56e0\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e",children:(0,r.jsx)(e.strong,{children:"\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u9ed8\u8ba4\u65e5\u5fd7\u6587\u4ef6\u53ef\u80fd\u4f4d\u4e8e ",(0,r.jsx)(e.code,{children:"/var/log/postgresql/"})," \u6216\u6570\u636e\u76ee\u5f55\u4e0b\u7684 ",(0,r.jsx)(e.code,{children:"pg_log/"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u67e5\u770b\u9519\u8bef\u4fe1\u606f\uff1a","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"tail -f /path/to/logfile\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"\u603b\u7ed3-4",children:(0,r.jsx)(e.strong,{children:"\u603b\u7ed3"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4fee\u6539 ",(0,r.jsx)(e.code,{children:"postgresql.conf"})," \u548c ",(0,r.jsx)(e.code,{children:"pg_hba.conf"})," \u6587\u4ef6\u4ee5\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"\u8bbe\u7f6e\u6216\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u5e76\u786e\u4fdd\u7528\u6237\u6709\u767b\u5f55\u6743\u9650\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u786e\u4fdd\u9632\u706b\u5899\u548c\u7f51\u7edc\u914d\u7f6e\u5141\u8bb8\u8fdc\u7a0b\u8bbf\u95ee PostgreSQL \u7684\u7aef\u53e3\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6d4b\u8bd5\u8fdc\u7a0b\u8fde\u63a5\uff0c\u5e76\u6839\u636e\u9700\u8981\u8c03\u6574\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u9047\u5230\u95ee\u9898\uff0c\u68c0\u67e5 PostgreSQL \u7684\u65e5\u5fd7\u6587\u4ef6\u548c\u670d\u52a1\u72b6\u6001\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u6210\u529f\u914d\u7f6e PostgreSQL \u5141\u8bb8\u8fdc\u7a0b\u767b\u5f55\u5e76\u4f7f\u7528\u5bc6\u7801\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002"})]})}function o(s={}){const{wrapper:e}={...(0,d.R)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(j,{...s})}):j(s)}}}]);